(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5446],{37056:(e,a,t)=>{"use strict";t.r(a),t.d(a,{assets:()=>f,contentTitle:()=>k,default:()=>N,frontMatter:()=>u,metadata:()=>h,toc:()=>g});var n=t(3905),r=t(93456),i=Object.defineProperty,p=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,d=(e,a,t)=>a in e?i(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,m=(e,a)=>{for(var t in a||(a={}))c.call(a,t)&&d(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&d(e,t,a[t]);return e};const u={},k="TIMEWARP RESEARCH",h={unversionedId:"AndroidFramework/TaskC1-timewarp/tw-research",id:"version-0.16.0/AndroidFramework/TaskC1-timewarp/tw-research",title:"TIMEWARP RESEARCH",description:"- Timewarp Guide",source:"@site/versioned_docs/version-0.16.0/AndroidFramework/TaskC1-timewarp/tw-research.md",sourceDirName:"AndroidFramework/TaskC1-timewarp",slug:"/AndroidFramework/TaskC1-timewarp/tw-research",permalink:"/keeps-learning/docs/0.16.0/AndroidFramework/TaskC1-timewarp/tw-research",draft:!1,editUrl:"https://github.com/markshawn2020/keeps-learning/edit/master/docs/AndroidFramework/TaskC1-timewarp/tw-research.md",tags:[],version:"0.16.0",lastUpdatedAt:1658966475,formattedLastUpdatedAt:"2022\u5e747\u670828\u65e5",frontMatter:{},sidebar:"docs",previous:{title:"atw bugfix",permalink:"/keeps-learning/docs/0.16.0/AndroidFramework/TaskC1-timewarp/tw-bugfix"},next:{title:"opengl howto",permalink:"/keeps-learning/docs/0.16.0/AndroidFramework/TaskC2-opengl/opengl-howto"}},f={},g=[{value:"Timewarp Guide",id:"timewarp-guide",level:2},{value:"Source Code Research",id:"source-code-research",level:2},{value:"decide the target code",id:"decide-the-target-code",level:3},{value:"SDK Logic Backward-track",id:"sdk-logic-backward-track",level:2},{value:"SDK Logic Forward-implementation",id:"sdk-logic-forward-implementation",level:2},{value:"step 1. <code>vertexShader</code> and <code>fragmentShader</code>",id:"step-1-vertexshader-and-fragmentshader",level:3},{value:"1.1. definition of <code>vertexShader</code> and <code>fragmentShader</code>",id:"11-definition-of-vertexshader-and-fragmentshader",level:4},{value:"1.2. usage of <code>vertexShader</code> and <code>fragmentShader</code>",id:"12-usage-of-vertexshader-and-fragmentshader",level:4},{value:"2.3 <code>Pose</code>\uff08\u59ff\u6001\uff09",id:"23-pose\u59ff\u6001",level:4},{value:"2.4. PASS: <code>[CG]PU_PROFILE_(BEGIN|END)</code>",id:"24-pass-cgpu_profile_beginend",level:4},{value:"2.5. \u521d\u59cb\u5316 <code>Pose</code>",id:"25-\u521d\u59cb\u5316-pose",level:3},{value:"2.6 \u83b7\u53d6 <code>Pose</code>",id:"26-\u83b7\u53d6-pose",level:3},{value:"SDK custom",id:"sdk-custom",level:2},{value:"implementation",id:"implementation",level:3},{value:"FIXME: <code>glUniformMatrix4fv is depreciated</code>",id:"fixme-gluniformmatrix4fv-is-depreciated",level:3},{value:"TODO: \u83b7\u53d6\u7684\u59ff\u6001\u4e0d\u7b49\u4e8e\u6211\u4eec\u5bf9buffer\u8981\u505a\u7684\u64cd\u4f5c",id:"todo-\u83b7\u53d6\u7684\u59ff\u6001\u4e0d\u7b49\u4e8e\u6211\u4eec\u5bf9buffer\u8981\u505a\u7684\u64cd\u4f5c",level:3},{value:"FIXED: how to init C++ class",id:"fixed-how-to-init-c-class",level:3},{value:"FIXED: how to &quot;import&quot; <code>GLint</code>",id:"fixed-how-to-import-glint",level:3},{value:"Framework Logic",id:"framework-logic",level:2},{value:"intro: <code>ProgramCache.cpp</code>",id:"intro-programcachecpp",level:3},{value:"filter out <code>uniform</code> Logic",id:"filter-out-uniform-logic",level:3},{value:"add <code>vertexShader</code> and <code>fragmentShader</code>",id:"add-vertexshader-and-fragmentshader",level:3},{value:"Timewarp Forecast",id:"timewarp-forecast",level:2},{value:"documentation",id:"documentation",level:3},{value:"workflow",id:"workflow",level:3},{value:"Timewarp Algo",id:"timewarp-algo",level:2},{value:"mark::update@2022-02-25: timewarp framework test",id:"markupdate2022-02-25-timewarp-framework-test",level:2},{value:"\u6253\u5370 timewarp matrix",id:"\u6253\u5370-timewarp-matrix",level:3},{value:"can we change log level?",id:"can-we-change-log-level",level:2},{value:"can we debug shader?",id:"can-we-debug-shader",level:2}],b={toc:g};function N(e){var a,t=e,{components:i}=t,d=((e,a)=>{var t={};for(var n in e)c.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&l)for(var n of l(e))a.indexOf(n)<0&&s.call(e,n)&&(t[n]=e[n]);return t})(t,["components"]);return(0,n.kt)("wrapper",(a=m(m({},b),d),p(a,o({components:i,mdxType:"MDXLayout"}))),(0,n.kt)("h1",m({},{id:"timewarp-research"}),"TIMEWARP RESEARCH"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#timewarp-guide"}),"Timewarp Guide")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#source-code-research"}),"Source Code Research"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#decide-the-target-code"}),"decide the target code")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#sdk-logic-backward-track"}),"SDK Logic Backward-track")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#sdk-logic-forward-implementation"}),"SDK Logic Forward-implementation"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#step-1-vertexshader-and-fragmentshader"}),"step 1. ",(0,n.kt)("inlineCode",{parentName:"a"},"vertexShader")," and ",(0,n.kt)("inlineCode",{parentName:"a"},"fragmentShader")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#11-definition-of-vertexshader-and-fragmentshader"}),"1.1. definition of ",(0,n.kt)("inlineCode",{parentName:"a"},"vertexShader")," and ",(0,n.kt)("inlineCode",{parentName:"a"},"fragmentShader"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#12-usage-of-vertexshader-and-fragmentshader"}),"1.2. usage of ",(0,n.kt)("inlineCode",{parentName:"a"},"vertexShader")," and ",(0,n.kt)("inlineCode",{parentName:"a"},"fragmentShader"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#23-pose%E5%A7%BF%E6%80%81"}),"2.3 ",(0,n.kt)("inlineCode",{parentName:"a"},"Pose"),"\uff08\u59ff\u6001\uff09")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#24-pass-cgpu_profile_beginend"}),"2.4. PASS: ",(0,n.kt)("inlineCode",{parentName:"a"},"[CG]PU_PROFILE_(BEGIN|END)"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#25-%E5%88%9D%E5%A7%8B%E5%8C%96-pose"}),"2.5. \u521d\u59cb\u5316 ",(0,n.kt)("inlineCode",{parentName:"a"},"Pose"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#26-%E8%8E%B7%E5%8F%96-pose"}),"2.6 \u83b7\u53d6 ",(0,n.kt)("inlineCode",{parentName:"a"},"Pose"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#sdk-custom"}),"SDK custom"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#implementation"}),"implementation")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#fixme-gluniformmatrix4fv-is-depreciated"}),"FIXME: ",(0,n.kt)("inlineCode",{parentName:"a"},"glUniformMatrix4fv is depreciated"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#todo-%E8%8E%B7%E5%8F%96%E7%9A%84%E5%A7%BF%E6%80%81%E4%B8%8D%E7%AD%89%E4%BA%8E%E6%88%91%E4%BB%AC%E5%AF%B9buffer%E8%A6%81%E5%81%9A%E7%9A%84%E6%93%8D%E4%BD%9C"}),"TODO: \u83b7\u53d6\u7684\u59ff\u6001\u4e0d\u7b49\u4e8e\u6211\u4eec\u5bf9buffer\u8981\u505a\u7684\u64cd\u4f5c")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#fixed-how-to-init-c-class"}),"FIXED: how to init C++ class")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#fixed-how-to-import-glint"}),'FIXED: how to "import" ',(0,n.kt)("inlineCode",{parentName:"a"},"GLint"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#framework-logic"}),"Framework Logic"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#intro-programcachecpp"}),"intro: ",(0,n.kt)("inlineCode",{parentName:"a"},"ProgramCache.cpp"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#filter-out-uniform-logic"}),"filter out ",(0,n.kt)("inlineCode",{parentName:"a"},"uniform")," Logic")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#add-vertexshader-and-fragmentshader"}),"add ",(0,n.kt)("inlineCode",{parentName:"a"},"vertexShader")," and ",(0,n.kt)("inlineCode",{parentName:"a"},"fragmentShader"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#timewarp-forecast"}),"Timewarp Forecast"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#documentation"}),"documentation")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#workflow"}),"workflow")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#timewarp-algo"}),"Timewarp Algo")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#markupdate2022-02-25-timewarp-framework-test"}),"mark::update@2022-02-25: timewarp framework test"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#%E6%89%93%E5%8D%B0-timewarp-matrix"}),"\u6253\u5370 timewarp matrix")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#can-we-change-log-level"}),"can we change log level?")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#can-we-debug-shader"}),"can we debug shader?"))),(0,n.kt)("h2",m({},{id:"timewarp-guide"}),"Timewarp Guide"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6838\u5fc3\u53c2\u8003\u8d44\u6599\uff08Oculus \u7684ATW\u4ecb\u7ecd\uff09 ",(0,n.kt)("a",m({parentName:"li"},{href:"https://developer.oculus.com/documentation/native/android/mobile-timewarp-overview/"}),"Asynchronous TimeWarp (ATW) | Oculus Developers"))),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645101339108-d0a8d4e45f1bc1d7eff11beeef983a052fc7a0ed679f8f4e3d2a808b9cb91c51.png",alt:"picture 1"})),"  "),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645101347871-f23d6d77ae06bd2e7f4f6aa23516d5ecc330afe6f0ead6c8789919f9d0041740.png",alt:"picture 2"})),"  "),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645101359009-fde308c67c9e8d1207019e6f09568ef4507fd3f7eed53ce6d3a870ce4d5e6261.png",alt:"picture 3"})),"  "),(0,n.kt)("p",null,"In this article: ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.jianshu.com/p/027916e345bc"}),"Android N VR\u4ee3\u7801\u7b80\u6790 - \u7b80\u4e66"),", it said:"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u5355\u72ec\u5206\u79bb\u51fa\u4e00\u4e2aSDK\uff0c\u9664\u4e86\u65b9\u4fbf\u5e94\u7528\u5f00\u53d1\u8005\u4e4b\u5916\uff0c\u4e3b\u8981\u7684\u76ee\u7684\u662f\u7528\u6765\u628aVR\u7684\u4e00\u4e9b\u6838\u5fc3\u7b97\u6cd5\u9690\u85cf\u8d77\u6765\uff0c\u6bd4\u5982\u7528\u6765\u51cf\u5c11\u5ef6\u8fdf\u7684ATW\u5f02\u6b65\u65f6\u95f4\u626d\u66f2\u7b97\u6cd5\u5c31\u662f\u88ab\u5c01\u88c5\u5728\u8fd9\u91cc\uff0c\u662f\u95ed\u6e90\u4e0d\u516c\u5f00\u7684\u3002\n\u4f17\u6240\u5468\u77e5\uff0c\u5728\u624b\u673a\u4e0a\u9762\u8fd0\u884cVR\u7684\u65f6\u5019\u4e00\u4e2a\u6700\u5927\u7684\u6311\u6218\u5c31\u662f\u5ef6\u8fdf\uff0c\u5f53\u4e00\u526f\u753b\u9762\u7684\u5ef6\u8fdf\u8d85\u8fc720MS\uff0c\u4eba\u5c31\u4f1a\u611f\u89c9\u4e0d\u8212\u670d\u6076\u5fc3\uff0c\u4e25\u91cd\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\uff0c\u4e00\u4e2a\u597d\u7684VR\u4ea7\u54c1\u90fd\u4f1a\u5c3d\u91cf\u907f\u514d\u5ef6\u8fdf\u3002")),(0,n.kt)("h2",m({},{id:"source-code-research"}),"Source Code Research"),(0,n.kt)("h3",m({},{id:"decide-the-target-code"}),"decide the target code"),(0,n.kt)("p",null,"According to the grep search and vimdiff, we can locate the target codes are in ",(0,n.kt)("inlineCode",{parentName:"p"},"./src/lib/cpp/Distortion/BarrelDistortion1ShaderProgramGL.cpp"),"."),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645079933188-0fb7311936ddbe6e17d5fafb7ebcd6b384693c39f649f1ccd6884440cece9917.png",alt:"picture 2"})),"  "),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645079885554-ded3bb730484c368a2695e269ba47fc7ad3e772bc3bad3bdf98171ab8f43cef6.png",alt:"picture 1"})),"  "),(0,n.kt)("h2",m({},{id:"sdk-logic-backward-track"}),"SDK Logic Backward-track"),(0,n.kt)("p",null,"sdk\u5173\u4e8e ",(0,n.kt)("inlineCode",{parentName:"p"},"timewarp")," \u7684\u903b\u8f91\uff0c\u5c24\u5176\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"Shader")," \u90e8\u5206\u4e3b\u8981\u96c6\u4e2d\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"vrsdk-20210813/src/lib/cpp/Distortion/BarrelDistortion1ShaderProgramGL.cpp")," \u6587\u4ef6\u4e2d\uff0c\u5e76\u57fa\u4e8e ",(0,n.kt)("inlineCode",{parentName:"p"},"opengl")," \u7684\u7248\u672c\u51b3\u5b9a ",(0,n.kt)("inlineCode",{parentName:"p"},"VertexShader")," \u548c ",(0,n.kt)("inlineCode",{parentName:"p"},"FragmentShader")," \u7684\u521d\u59cb\u5316\uff0c\u5176\u5bf9\u5e94\u7684\u7248\u672c\u4e5f\u4e0d\u540c\u3002"),(0,n.kt)("p",null,(0,n.kt)("del",{parentName:"p"},"\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 ",(0,n.kt)("inlineCode",{parentName:"del"},"opengl3.3")," \u7684\u7248\u672c\u5c31\u53ef\u4ee5\uff08\u4e5f\u5c31\u662f ",(0,n.kt)("inlineCode",{parentName:"del"},"opengl-core")," \u5bf9\u5e94\u7684\u903b\u8f91\uff09\u90e8\u5206\u3002")),(0,n.kt)("p",null,"mark::update@2022-02-19: \u6839\u636e\u5fd7\u521a\u53cd\u9988\uff0c\u8f66\u673a\u4f7f\u7528\u7684\u662f",(0,n.kt)("inlineCode",{parentName:"p"},"opengl 3.0"),"\uff0c\u56e0\u6b64\u6211\u4eec\u53ea\u80fd\u4f7f\u7528 \u672cSDK\u4e2d",(0,n.kt)("inlineCode",{parentName:"p"},"opengl 1.0")," \u7684\u5199\u6cd5\u4e86\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645107339477-4177bf852550cf415b931baf25f375fc201469290c17c62f91b0b37befbadbff.png",alt:"picture 1"})),"  "),(0,n.kt)("p",null,"\u5176\u4e2d ",(0,n.kt)("inlineCode",{parentName:"p"},"BarrelDistortionShaderProgramPerApi")," \u51fd\u6570\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"cpp/Distortion/BarrelDistortionShaderProgram.h")," \uff08\u6ce8\u610f\uff0c\u4e0d\u662f1\u4e86\uff09\u4e2d\u5b9a\u4e49\u7684\uff0c\u5b83\u63a5\u6536\u4e09\u4e2a Shader \u53c2\u6570\uff0c\u524d\u9762\u4e24\u4e2a\u5206\u522b\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"VertexShader")," \u548c ",(0,n.kt)("inlineCode",{parentName:"p"},"FragmentShader"),"\uff0c\u6700\u540e\u4e00\u4e2a\u662f\u53eb ",(0,n.kt)("inlineCode",{parentName:"p"},"geomShader"),"\uff0c\u521d\u59cb\u5316\u4e3a\u7a7a\u3002\u5b83\u4eec\u4f1a\u8c03\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"ShaderBase")," \u51fd\u6570\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645112317306-8e8d26282dffba206bd8c9c1e1cc4cd0e9fc00b4dd55ab97b5bcfbd868532515.png",alt:"picture 5"})),"  "),(0,n.kt)("p",null,"\u6ce8\u610f\uff0c\u8fd9\u4e2a ",(0,n.kt)("inlineCode",{parentName:"p"},"ShaderBase")," \u51fd\u6570\u5176\u5b9e\u662f\u4e00\u4e2a\u6cdb\u578b\uff0c\u5728\u6211\u4eec\u7684\u8c03\u7528\u6808\u4e2d\uff0c\u5b83\u5b9e\u9645\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"cpp/Distortion/BarrelDistortion1ShaderProgramGL.h")," \u4e2d\u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"ShaderProgramGL"),"\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645112700190-9449f0e393c7dc9fb7bde2cd41c9d5f319b1965e2af6cf78ff62bed9f60d4845.png",alt:"picture 6"})),"  "),(0,n.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b9e\u9645\u521d\u59cb\u5316\u65f6\uff0c\u8c03\u7528\u7684\u5177\u4f53\u51fd\u6570\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"ShaderProgramGL(vertexShader, fragmentShader, null)"),"\u3002"),(0,n.kt)("p",null,"\u5b83\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"cpp/Renderer/gl/ShaderProgramGL.h")," \u4e2d\u5b9a\u4e49\u7684\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645113409867-689ac83f3397660a54f44a0c1ee31bcaf12b2fabdd9a0f0f6397d6f83e891c3e.png",alt:"picture 7"})),"  "),(0,n.kt)("p",null,"\u67e5\u770b\u5b9e\u73b0\uff0c\u5176\u5b9e\u5e95\u5c42\u5c31\u662f\u8c03\u7684",(0,n.kt)("inlineCode",{parentName:"p"},"cpp/Renderer/gl/ShaderProgramGL.cpp"),"\uff08TO-CONFIRM: \u5e94\u8be5\u662f\u5b98\u65b9",(0,n.kt)("inlineCode",{parentName:"p"},"opengl"),"\uff09 \u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"ShaderProgram"),"\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645113514126-ff2bc90994310fe39fdc65705750bc6bf855e61d899132ccde263efcd6f99e0b.png",alt:"picture 8"})),"  "),(0,n.kt)("p",null,"\u6ce8\u610f\u5230\u8fd9\u91cc\u4e5f\u6709 ",(0,n.kt)("inlineCode",{parentName:"p"},"IVR_GRAPHICS_API_GLES2")," \u548c ",(0,n.kt)("inlineCode",{parentName:"p"},"IVR_GRAPHICS_API_GLCORE")," \u7684\u5b9a\u4e49\uff0c",(0,n.kt)("del",{parentName:"p"},"\u53ef\u4ee5\u770b\u51fa\u6765\uff0c\u5176\u5b9e\u4e24\u4e2a\u6587\u4ef6\u7ed3\u6784\u662f\u5dee\u4e0d\u591a\u7684"),"\u3002mark::update@2022-02-18: \u5bf9\u6bd4\u4e86\u4e0b\u5177\u4f53\u7684\u6587\u4ef6\uff0c\u8fd8\u662f\u5dee\u633a\u591a\u7684\uff0c\u53ea\u6709\u5f88\u5c11\u7684\u4e00\u90e8\u5206\uff08\u6bd4\u5982 ",(0,n.kt)("inlineCode",{parentName:"p"},"compile"),"\u63a5\u53e3\uff09\u6709\u4fdd\u7559\uff0c\u5176\u4ed6\u7684\u57fa\u672c\u90fd\u6539\u4e86\uff0c\u5e94\u8be5\u6765\u8bf4\uff0c\u7ed3\u6784\u5dee\u4e0d\u591a\uff0c\u4f46\u5185\u5bb9\u5dee\u4e86\u5f88\u591a\uff0c\u6df1\u5ea6\u5b9a\u5236\u4e86\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645159048380-534d6cff90d4a85b84c2195517db44ba1776758331ce98584e525ea3249f3044.png",alt:"picture 11"})),"  "),(0,n.kt)("p",null,"\u6700\u540e\u8ffd\u5230 ",(0,n.kt)("inlineCode",{parentName:"p"},"cpp/Renderer/ShaderProgram.cpp")," \u91cc ",(0,n.kt)("inlineCode",{parentName:"p"},"ShaderProgram")," \u7684\u5b9e\u73b0\uff0c\u53ef\u4ee5\u770b\u5230\u5c31\u662f\u4e00\u4e2a\u521d\u59cb\u5316\u7684\u8fc7\u7a0b\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645159373569-9bbc79c606ee2827a604a6cf730e01debbc81f7dc2a0eb098d3c97791d1314d1.png",alt:"picture 12"})),"  "),(0,n.kt)("h2",m({},{id:"sdk-logic-forward-implementation"}),"SDK Logic Forward-implementation"),(0,n.kt)("p",null,"\u57fa\u4e8e ",(0,n.kt)("a",m({parentName:"p"},{href:"#sdk-logic-backward-track"}),"sdk logic backward-track")," \u7684\u68b3\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u524d\u5411\u6574\u7406\u51fa\u6574\u5957sdk\u903b\u8f91\u4e86\u3002"),(0,n.kt)("h3",m({},{id:"step-1-vertexshader-and-fragmentshader"}),"step 1. ",(0,n.kt)("inlineCode",{parentName:"h3"},"vertexShader")," and ",(0,n.kt)("inlineCode",{parentName:"h3"},"fragmentShader")),(0,n.kt)("h4",m({},{id:"11-definition-of-vertexshader-and-fragmentshader"}),"1.1. definition of ",(0,n.kt)("inlineCode",{parentName:"h4"},"vertexShader")," and ",(0,n.kt)("inlineCode",{parentName:"h4"},"fragmentShader")),(0,n.kt)("p",null,"\u539fSDK\u4e2d\uff0c\u57fa\u4e8e ",(0,n.kt)("inlineCode",{parentName:"p"},"opengl")," \u7248\u672c\u8fdb\u884c\u5224\u65ad\uff0c\u9009\u62e9\u662f\u5426\u4f7f\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"opengl#version 100")," \u6216\u8005 ",(0,n.kt)("inlineCode",{parentName:"p"},"opengl#version 330"),"\u3002"),(0,n.kt)("p",null,"\u4f46\u662f\u7ecf\u8fc7\u67e5\u8be2android\u5b98\u65b9opengl\u90e8\u5206\uff1a ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.android.com/guide/topics/graphics/opengl?hl=zh-cn"}),"OpenGL ES \xa0|\xa0 Android \u5f00\u53d1\u8005 \xa0|\xa0 Android Developers"),"\uff0c\u53d1\u73b0\u53ef\u80fd\u53ea\u652f\u6301",(0,n.kt)("inlineCode",{parentName:"p"},"opengl 3.1"),"\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645161819210-94b0b24bb07812169e7b14d2584066f11d105bb65ebf2824cbeafd7adbeb1b00.png",alt:"picture 13"})),"  "),(0,n.kt)("p",null,"\u7406\u8bba\u4e0a\u5e94\u8be5\u4e0d\u81f3\u4e8e\uff0c\u56e0\u4e3a ",(0,n.kt)("inlineCode",{parentName:"p"},"opengl 3.3")," : ",(0,n.kt)("a",m({parentName:"p"},{href:"https://en.wikipedia.org/wiki/OpenGL#OpenGL_3.3"}),"OpenGL - Wikipedia")," \u65e9\u57282010\u5e74\u5c31\u53d1\u5e03\u4e86\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645161870835-8a0ab9ae3a92f44e4bc95b9422a7a930f1607c95bc5aed983adbc06aa3e7eb36.png",alt:"picture 14"})),"  "),(0,n.kt)("p",null,"!!! warning DEPRECIATED"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{}),"FIXED: \u6240\u4ee5\u8fd9\u4e00\u70b9\u8fd8\u8981\u786e\u8ba4\u4e00\u4e0b\u3002\n\n\u56e0\u6b64\uff0c\u76ee\u524d\u7684\u4fdd\u5b88\u505a\u6cd5\uff0c\u5c31\u8fd8\u662f\u6cbf\u7528\u8001SDK\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u6839\u636eopengl\u7684\u4e0d\u540c\u7248\u672c\uff0c\u5199\u4e24\u5957\u5904\u7406\u7a0b\u5e8f\uff08\u4e3a\u7cbe\u7b80\uff0c\u90fd\u53bb\u9664\u4e86\u548c\u65cb\u8f6c\u6709\u5173\u7684\u5185\u5bb9\uff09\uff0c\u4e00\u5957\u4e3a\u4e86\u517c\u5bb9\uff08`opengl 1.0`\uff09\uff0c\u4e00\u5957\u4e3a\u4e86\u6027\u80fd\uff08`opengl 3.3`\uff09\uff1a\n\nsee: [define_shader.h](./define_shader.h)\n")),(0,n.kt)("p",null,"mark::update@2022-02-19: \u5df2\u786e\u8ba4\uff0c\u8f66\u673a\u53ea\u80fd\u4f7f\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"opengl 3.9"),"\u3002"),(0,n.kt)("p",null,"\u8fd9\u6837\u6211\u4eec\u5c31\u6709\u4e86\u4e24\u4e2a\u53d8\u91cf\uff1a"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"s_barrelDistortion1VertexShader")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"s_barrelDistortion1FragmentShader"))),(0,n.kt)("h4",m({},{id:"12-usage-of-vertexshader-and-fragmentshader"}),"1.2. usage of ",(0,n.kt)("inlineCode",{parentName:"h4"},"vertexShader")," and ",(0,n.kt)("inlineCode",{parentName:"h4"},"fragmentShader")),(0,n.kt)("p",null,"\u6839\u636e\u8c03\u7528\u6808\uff1a "),(0,n.kt)("p",null,"cpp++\nBarrelDistortion1ShaderProgramGL::BarrelDistortion1ShaderProgramGL()\n--\x3e BarrelDistortionShaderProgramPerApi(s_barrelDistortion1VertexShader, s_barrelDistortion1FragmentShader)\n--\x3e ShaderBase(vertShader, fragShader, geomShader /",(0,n.kt)("em",{parentName:"p"},"null"),"/)\n--\x3e ShaderProgramGL(vertShader, fragShader, geomShader /",(0,n.kt)("em",{parentName:"p"},"null"),"/)\n--\x3e ShaderProgram(vertShader, fragShader, geomShader /",(0,n.kt)("em",{parentName:"p"},"null"),"/)\n--\x3e _vertShaderSource(vertShader), _fragShaderSource(fragShader), _geomShaderSource(geomShader)"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{}),"\n\u6240\u4ee5\uff0c\u5176\u5b9e\u5c31\u662f\u5355\u7eaf\u8d4b\u503c\u4e00\u76f4\u5f80\u4e0a\u5c31\u53ef\u4ee5\u4e86\uff0c\u6700\u7ec8\u5728 `BarrelDistortion1ShaderProgramGL` \u6216\u8005\u8bf4 `ShaderProgram` \u91cc\u6709\u4e2a `_vertShaderSource`\u88ab\u521d\u59cb\u5316\u4e3a `s_barrelDistortion1VertexShader`\uff0c\u6709\u4e2a `_fragShaderSource` \u88ab\u521d\u59cb\u5316\u4e3a `s_barrelDistortion1FragmentShader`\u3002\n\n#### 1.3. dependencies of `vertexShader` and `fragmentShader`\n\n\u5176\u5b9e\u600e\u4e48\u4f7f\u7528\u529f\u80fd `vertexShader` \u548c `fragmentShader` \u7406\u8bba\u4e0a\u4e0d\u662f\u6211\u4eec\u9700\u8981\u601d\u8003\u7684\u4e8b\uff0c\u56e0\u4e3a\u5728 android \u6846\u67b6\u91cc\uff0c\u4f7f\u7528\u90e8\u5206\u8c8c\u4f3c\u662f\u5df2\u7ecf\u5c01\u88c5\u597d\u7684\uff0c\u6211\u4eec\u53ea\u9700\u521d\u59cb\u5316\u8fd9\u4e24\u4e2ashader\u5e76\u542f\u7528\u5c31\u597d\u3002\n\n\u800c\u8fd9\u4e00\u6b65\uff0c\u5728\u540e\u9762\u7684 [framework logic](#framework-logic) \u91cc\u4f1a\u7ee7\u7eed\u6df1\u5165\uff0c\u6b64\u5904\u4e0d\u662f\u6211\u4eec\u5173\u5fc3\u7684\u95ee\u9898\u3002\n\n\u800c\u4e14\u6211\u4eec\u786e\u5b9e\u6709\u73b0\u5728\u9700\u8981\u5173\u5fc3\u7684\u95ee\u9898\uff0c\u90a3\u5c31\u662f\u4e24\u4e2aShader\u91cc\u8fd8\u6709\u4e00\u4e9b\u53d8\u91cf\u9700\u8981\u6211\u4eec\u624b\u52a8\u63d0\u4f9b\u3002\n\n\u5982\u4e0b\u56fe\uff0c`a_texcoord` \u5e94\u8be5\u53ea\u662f\u5185\u90e8\u5c5e\u6027\uff0c\u4e0d\u9700\u8981\u81ea\u5df1\u5b9e\u73b0\uff08TODO: \u786e\u8ba4\u8fd9\u4e00\u70b9\uff09\uff1b\u800c\u771f\u6b63\u9700\u8981\u81ea\u5df1\u5b9a\u4e49\u3001\u5b9e\u73b0\u4e0e\u64cd\u4f5c\u7684\u662f `u_timewarp_mat` \u548c `u_enable_timewarp` \u53d8\u91cf\u3002\n\n![picture 16](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645164420291-f604b847b85aa1119ed4df29ba330be9a59fa936cf6cf8d08751497a591116f1.png)  \n\n### step 2. `setWrapMatrix`\n\n#### 2.1 call/set `u_enable_time_warp` and `u_timewarp_mat`\n\n!!! note\n\n    ~~\u6211\u4eec\u53ef\u4ee5\u5148\u4ece `u_enable_time_warp` \u53d8\u91cf\u5165\u624b\uff0c\u56e0\u4e3a\u5b83\u53ea\u662f\u4e00\u4e2a bool \u7c7b\u578b\u53d8\u91cf\uff0c\u5728\u7406\u89e3\u4e86\u5b83\u7684\u201c\u524d\u4e16\u4eca\u751f\u201d\u4e4b\u540e\uff0c\u53ef\u4ee5\u66f4\u5feb\u5730\u7406\u89e3 `u_timewarp_mat`\u3002~~\n\n    mark::update@2022-02-18: \u540e\u7eed\u5206\u6790\u53d1\u73b0\uff0c\u5176\u5b9e `u_enable_time_warp` \u662f\u5728 `setWarpMatrix` \u51fd\u6570\u4e2d\u548c `u_timewarp_mat` \u4e00\u8d77\u8bbe\u7f6e\u7684\uff0c\u6240\u4ee5\u4e5f\u6ca1\u6709\u5206\u5f00\u7814\u7a76\u7684\u5fc5\u8981\u3002\n\n\u5728 `src/lib/cpp/Distortion/BarrelDistortion1ShaderProgramGL.cpp` \u4e2d\u53ef\u4ee5\u770b\u5230\u5173\u4e8e `u_enable_time_warp` \u76f8\u5173\u7684 set \u64cd\u4f5c\uff08\u5df2\u4fee\u6b63\u539fSDK\u8bef\u628a `_uniformTimewarpEnable` \u5199\u6210 `_uniformRotationEnable` \u7684\u95ee\u9898 \uff09\u3002 \n\n\u4f46\u5176\u5b9e\uff0c\u5bf9\u7167 `setScreenParameters` \u4e2d\u5bf9 `_uniformRotationEnable` \u7684\u4f7f\u7528\uff0c\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u7684 `_uniformTimeWarpEnable` \u65b9\u6cd5\u53ea\u6709 set 1 \u7684\u52a8\u4f5c\uff0c\u800c\u6ca1\u6709set 0.\n\n![picture 17](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645166936719-016396f18b4c4fb274fca9e8d18c38eec123a448ceb4cca13576d9ec03fd5186.png)  \n\n\u6211\u4eec\u5c1d\u8bd5\u6dfb\u52a0 set 0 \u7684\u64cd\u4f5c\uff0c\u4ee5\u652f\u6301 timewarp \u7684\u52a8\u6001\u5f00\u5173\u3002\n\n\u4e00\u4e2a\u6bd4\u8f83\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u662f\u4fdd\u7559\u73b0\u5728\u7684\u63a5\u53e3\uff0c\u4f46\u5141\u8bb8\u4f20\u5165\u53c2\u6570 `warpMatrix` \u4e3a\u7a7a\uff0c\u7136\u540e\u5f53\u5b83\u4e3a\u7a7a\u65f6\uff0c\u6211\u4eec\u8bbe\u7f6e set `_uniformTimeWarpEnable` \u4e3a 0\u3002\n\n\u4fee\u6539\u5982\u4e0b\uff1a\n\n![picture 19](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645169682121-d34078661d59776fc5a02d68bd3735513940c76597c20312afafce6fde96a052.png)  \n\n\u73b0\u5728\u8fd8\u5f97\u77e5\u9053 `setWarpMatrix` \u7684\u903b\u8f91\u3002\n\n#### 2.2 `setWrapMatrix`\n\n\u9996\u5148\u641c\u7d22\u6240\u6709 `setWarpMatrix` \u76f8\u5173\u7684\u8c03\u7528\u4fe1\u606f\uff1a\n\n![picture 21](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645172215721-7704936bd0e08b03339a88bc9574e8ce98f82695d8d268b1935f76f470e13a2e.png)  \n\n\u5176\u4e2d\u7b2c\u4e00\u4e2a\u5c31\u662f\u6211\u4eec\u521a\u521a\u4fee\u6539\uff08\u52a0\u5165disable timewarp\u9009\u9879\uff09\u7684\u90a3\u4e2a\uff0c\u7136\u540e\u5176\u4ed6\u90fd\u662f\u521d\u59cb\u5316\u76f8\u5173\u7684\uff0c\u6700\u7ec8\u8c03\u7528\u7684\u5c31\u4e24\u4e2a\u5730\u65b9\uff0c\u4e5f\u5c31\u662f `src/lib/cpp/Distortion/BarrelDistortion1RenderPass.cpp` \u5185\u7684 `composeSingleEye` \u548c `composeDoubleEye`\u3002\n\n![picture 22](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645176448825-5c255c6cb2f880756d3450bc84e1d8edabd27160f015aac4dcaf65aaaee228f6.png)  \n\n\u8be2\u95ee\u4e86\u6653\u7814\u54e5\uff0c\u56de\u590d\u662f\u201c\u66fe\u7ecf\u63d0\u8fc7\u4e00\u4e2a\u8ba9\u4e0d\u652f\u63013D\u5206\u8fa8\u7387\u7684\u8bbe\u5907\u53ea\u8f93\u51fa2D\u753b\u9762\u7684\u9700\u6c42\u201d\uff0c\u5177\u4f53\u4e5f\u4e0d\u61c2\uff0c\u4e5f\u4e0d\u662f\u5f88\u91cd\u8981\uff0c\u6211\u4eec\u76f4\u63a5\u770b `composeDoubleEye` \u5c31\u597d\u3002\n\nTODO: `composeDoubleEye` \u51fd\u6570\u4e2d\u4e0e `ShaderProgram` \u6709\u5173\u7684\u6709\u56db\u4e2a\u65b9\u6cd5\u8c03\u7528\uff1a\n\n![picture 23](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645176614228-c65b03d91721b6c8b0e0e78652d166fb734369fd553701b3a02f7b07ea961a9f.png)  \n\n\u9996\u5148\u5206\u6790\u548c `timewarp` \u76f8\u5173\u7684\u90a3\u4e2a\uff0c\u4f7f\u7528\u4e86`getWarpMatrix`\u65b9\u6cd5\uff0c\u5bb9\u6613\u77e5\u9053\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5728 `Renderer` \u91cc\u9762\u5b9a\u4e49\u7684\uff1a\n\n![picture 24](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645176839422-557fb596ea4a85211e087787e3f4276200a8fef3d576c4475184b106b96ec52f.png)  \n\n\u8fdb\u6765\u53d1\u73b0\uff0c\u5b83\u5176\u5b9e\u53ea\u662f\u4f7f\u7528\u4e86\u6570\u7ec4 `_warpMatrix`\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u77e5\u9053\u8fd9\u4e2a\u6570\u7ec4\u7684\u610f\u601d\u3002\n\n![picture 25](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645176922723-209f658563875ceb5dda8763af1b8aa10ca18203130d20dfe4efafc951c533f8.png)  \n\n\u7ed3\u679c\u53d1\u73b0\uff0c\u8fd8\u662f\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc\uff0c\u6709\u4e00\u4e2a\u4f20\u53c2\u8d4b\u503c\u52a8\u4f5c\uff1a\n\n![picture 27](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645177011817-3b1a21df7eb71b72cf95aa6b991c8c33fa8a00090be02841890c71a61453d40c.png)  \n\n![picture 26](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645176997898-3f44ebfceeab8796f1532c084c9774d24c06b6abe5e7c8fbb0cb2f119f44b11e.png)  \n\n\u56e0\u6b64\u6211\u4eec\u53c8\u5f97\u77e5\u9053 `setWarpMatrix` \u7684\u8d4b\u503c\u8c03\u7528\u3002\n\n\u6b64\u65f6\u5982\u679c\u76f4\u63a5\u641c\u7d22 `*1*GL*`\uff0c\u5219\u53d1\u73b0\u56de\u5230\u4e86\u6211\u4eec\u7684\u8d77\u70b9\u2026\u2026\u95ed\u73af\u4e86\u2026\u2026\n\n![picture 28](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645177307017-9d8e3573c6d9b9927588d391e1c0637c9abca7d1c05d3b42b02dca356b94269f.png)  \n\n\u8bf4\u660e\uff0c\u5b9e\u9645 `setWarpMatrix` \u7684\u52a8\u4f5c\u8fd8\u5728\u5916\u9762\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053 `setWarpMatrix` \u771f\u6b63\u662f\u7531\u8c01\u8c03\u7528\u7684\u3002\n\n\u5176\u5b9e\u4ed4\u7ec6\u770b\u5e95\u5c42\u7684 `setWarpMatrix` \u4f1a\u53d1\u73b0\u5b83\u6709\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u773c\u775b\u3002\n\n\u56e0\u6b64\u76f4\u63a5\u5728\u6839\u76ee\u5f55\u641c\u7d22\uff0c\u4f1a\u53d1\u73b0\u662f\u5728 `Composer`\u91cc\u8c03\u7528\u7684\u3002\n\n![picture 29](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645177654553-d99cb22999a5773485f4308fc1a95dc69dc138d1d0fecc97392d971665be1838.png)  \n\n\u81f3\u6b64\uff0c\u5173\u4e8e `warpMatrix` \u7684\u903b\u8f91\u6808\u5c31\u901a\u4e86\uff1a\n\ncpp++\n// get\nBarrelDistortion1RenderPass::composeDoubleEye()\n--\x3e _shaderProgram->setWarpMatrix(getWarpMatrix(eye)) // _warpMatrix[eye]\n\n// set  \nVrComposerInproc::_distortionPass->setWarpMatrix(eye, warpMatrix)\n--\x3e BarrelDistortion1ShaderProgramGL::setWarpMatrix(warpMatrix)\n--\x3e _warpMatrix[eye] = warpMatrix\n")),(0,n.kt)("h4",m({},{id:"23-pose\u59ff\u6001"}),"2.3 ",(0,n.kt)("inlineCode",{parentName:"h4"},"Pose"),"\uff08\u59ff\u6001\uff09"),(0,n.kt)("p",null,"\u59ff\u6001\u76f8\u5173\u7684\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"Composer/VrComposerInProc.cpp")," \u4e2d\uff0c\u4e3b\u8981\u51fd\u6570\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"void VrComposerInProc::present(uint32_t renderOptions, const Pose &renderPose)"),"\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645178554972-fec9c4518c220189bd6e73d9217bbe316a4352918935a90dde18a8c3f480f3dd.png",alt:"picture 30"})),"  "),(0,n.kt)("p",null,"\u5176\u4e2d ",(0,n.kt)("inlineCode",{parentName:"p"},"renderOptions")," \u53c2\u6570\u53ef\u4ee5\u51e0\u4e4e\u4e0d\u7528\u7ba1\uff0c\u7528\u6765\u5224\u65ad\u903b\u8f91\u7684\uff0c \u6211\u4eec\u53ea\u9700\u8981 enable \u5b83\u5c31\u53ef\u4ee5\u3002"),(0,n.kt)("p",null,"\u6838\u5fc3\u5904\u7406\u662f\u8fd9\u90e8\u5206\uff0c\u9996\u5148\u83b7\u53d6\u6700\u65b0\u7684\u59ff\u6001\uff08\u63a5\u4e0b\u6765\u7531 ",(0,n.kt)("inlineCode",{parentName:"p"},"hmdClient")," \u63d0\u4f9b\uff09\uff0c\u7136\u540e\u7b97\u51fa\u4e00\u4e2a\u77e9\u9635\uff0c\u518d\u8bbe\u7f6e\u7ed9\u5de6\u53f3\u773c\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645180693642-ba78a1153e62a645caa0eb51f8e312bc3a470eb32cb2d03658e367be3648daad.png",alt:"picture 31"})),"  "),(0,n.kt)("p",null,"\u8ffd\u5230 ",(0,n.kt)("inlineCode",{parentName:"p"},"calculateWarpMatrices")," \uff0c\u53d1\u73b0\u5c31\u662f\u4e2a\u9006\u77e9\u9635\u8ba1\u7b97\u3002(\u4e0d\u8fc7\u8fd8\u9700\u8981\u901a\u8fc7 ",(0,n.kt)("inlineCode",{parentName:"p"},"computeViewMatrix")," \u51fd\u6570\u5f97\u5230\u6bcf\u4e2a\u77e9\u9635\u3002)"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645180840261-1f96d52e8a8f5ab7de37476437c68138beea0d5258ee82d0431ba2709f324eea.png",alt:"picture 32"})),"  "),(0,n.kt)("p",null,"\u518d\u770b ",(0,n.kt)("inlineCode",{parentName:"p"},"computeViewMatrix")," \u51fd\u6570\uff0c\u5c31\u662f\u57fa\u4e8e ",(0,n.kt)("inlineCode",{parentName:"p"},"Pose")," \u7684\u59ff\u6001\u5c5e\u6027\uff0c\u8fdb\u884c ",(0,n.kt)("inlineCode",{parentName:"p"},"glm")," \u76f8\u5173\u7684\u8ba1\u7b97\uff08\u53ef\u4ee5\u7167\u6284\uff09\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645181125920-5e12bb82603d93570f87eb62d4de9e101cb44b6aa0c305e2fc793f1fde41728a.png",alt:"picture 33"})),"  "),(0,n.kt)("p",null,"\u800c ",(0,n.kt)("inlineCode",{parentName:"p"},"Pose")," \u7684\u5b9a\u4e49\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"./Tracker/TrackerClient.h")," \u4e2d\uff08\u8fd9\u91cc\u867d\u7136\u5199\u7684\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"PoseState"),"\uff0c \u4f46\u5b9e\u9645\u4e0a\u5bf9\u6bd4\u4e4b\u524d\u90a3\u4e2a\u51fd\u6570\uff0c\u4f1a\u53d1\u73b0\uff0c\u5e94\u8be5\u5c31\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"Pose"),"\uff09\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645181208590-b8bded1e4d065bd5b3a3352ca4357243e50ce23183fb88e16dc6df1d73f13d0c.png",alt:"picture 34"})),"  "),(0,n.kt)("h4",m({},{id:"24-pass-cgpu_profile_beginend"}),"2.4. PASS: ",(0,n.kt)("inlineCode",{parentName:"h4"},"[CG]PU_PROFILE_(BEGIN|END)")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u6839\u636e\u6653\u7814\u54e5\u6307\u793a\uff0c\u8fd9\u90e8\u5206\u9002\u7528\u4e8e\u6d4b\u8bd5\u6027\u80fd\u7684\uff0c\u6240\u4ee5\u4e5f\u4e0d\u7528\u770b\u3002")),(0,n.kt)("p",null,"\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"VrComposerInProc::present")," \u51fd\u6570\u4e2d\uff0c\u6709\u4e2a\u5173\u4e8e ",(0,n.kt)("inlineCode",{parentName:"p"},"[CG]PU")," \u7684\u8c03\u7528\u503c\u5f97\u6ce8\u610f\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645184570907-28e87ba2defce8077e7dbae6c3c8cbc595706541fe4c32e407f7dd52f0f66a13.png",alt:"picture 36"})),"  "),(0,n.kt)("p",null,"\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"src/common/CpuProfile.h")," \u4e2d\u53ef\u4ee5\u627e\u5230\u5173\u4e8e ",(0,n.kt)("inlineCode",{parentName:"p"},"CPU_PROFILE_(BEGIN|END)")," \u7684\u5b9a\u4e49\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645187583404-eb0431553855fcd14b0a91540d36b37feb4e42b0c603b9ebcfbc1c948c3be3cc.png",alt:"picture 38"})),"  "),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645187328248-c763c95de009709aa4c968ff99362b5a7bdb97185b3c8429eef11cdc039d471d.png",alt:"picture 37"})),"  "),(0,n.kt)("p",null,"\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"src/common/CpuProfile.cpp")," \u4e2d\u53ef\u67e5\u5230\u5b9e\u73b0\u5982\u4e0b\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645187986029-c539c3894bb662726b8eb13e1510e92a32721402592378cc8b068a89ed477bfe.png",alt:"picture 39"})),"  "),(0,n.kt)("h3",m({},{id:"25-\u521d\u59cb\u5316-pose"}),"2.5. \u521d\u59cb\u5316 ",(0,n.kt)("inlineCode",{parentName:"h3"},"Pose")),(0,n.kt)("p",null,"\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"TrackClient.h")," \u4e2d\u5b9a\u4e49\u4e86 ",(0,n.kt)("inlineCode",{parentName:"p"},"PoseState")," \u7684\u6570\u7ec4\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u4ec0\u4e48set\u7684\u64cd\u4f5c\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645199303457-e03440c58786c29055b67a07093a24247f4f7c1657cd5e01b0d604e1619df674.png",alt:"picture 41"})),"  "),(0,n.kt)("p",null,"\u67e5\u770b ",(0,n.kt)("inlineCode",{parentName:"p"},"_historyBuffer")," \u76f8\u5173\u7684\u4fe1\u606f\uff0c\u53d1\u73b0\u4e3b\u8981\u8fd8\u662f\u96c6\u4e2d\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"onSensorUpdate")," \u51fd\u6570\u4e0a\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645199369594-b182d7ef99e58bee5137c6cf06301ff5cf57ae55b4e6aba6a446ee64f8c83ede.png",alt:"picture 42"})),"  "),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645199414532-3ab5efdaea105fe7159f4017aeb91c2e0b41f75a5a10ed33fa9002a95e743a62.png",alt:"picture 43"})),"  "),(0,n.kt)("p",null,"\u4f46\u5176\u5b9e\u8fd9\u4e2a\u51fd\u6570\u91cc\u5bf9 ",(0,n.kt)("inlineCode",{parentName:"p"},"_historyBuffer")," \u7684set\u64cd\u4f5c\uff0c\u4e5f\u662f\u57fa\u4e8e\u5176\u201c\u672c\u8eab\u201d\u7684\uff0c\u6240\u4ee5\u5f88\u5947\u602a\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645199492073-08c539ad900b2182fe0f0dda16b554f050fd455356f022f79482bbf01f1a0d5f.png",alt:"picture 44"})),"  "),(0,n.kt)("h3",m({},{id:"26-\u83b7\u53d6-pose"}),"2.6 \u83b7\u53d6 ",(0,n.kt)("inlineCode",{parentName:"h3"},"Pose")),(0,n.kt)("p",null,"\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"TrackerPalHmdService.cpp")," \u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"readSensor")," \u63a5\u53e3\u91cc\u83b7\u53d6 ",(0,n.kt)("inlineCode",{parentName:"p"},"hmdService")," \u7684\u59ff\u6001\u6570\u636e\uff0c\u7136\u540e\u5c06\u59ff\u6001\u6570\u636e\u518d\u57fa\u4e8e\u81ea\u5df1\u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"onSensorUpdate")," \u51fd\u6570\u8fdb\u884c\u66f4\u65b0\u7ef4\u62a4\uff0c\u5e76\u89e6\u53d1\u9884\u6d4b\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645200260860-4f7adc57d66017e1968db4db783322d948ae662ee883c6bac12cd824151d125c.png",alt:"picture 45"})),"  "),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645200296274-3019781fc5146b961ac9f708f0a726c1b6e44dd7f744826c910811f0ab2c8368.png",alt:"picture 46"})),"  "),(0,n.kt)("h2",m({},{id:"sdk-custom"}),"SDK custom"),(0,n.kt)("h3",m({},{id:"implementation"}),"implementation"),(0,n.kt)("p",null,"\u4e00\u5f00\u59cb ",(0,n.kt)("inlineCode",{parentName:"p"},"vertexShader")," \u4e2d\u9609\u5272\u65cb\u8f6c\u90e8\u5206\u628a ",(0,n.kt)("inlineCode",{parentName:"p"},"gl_Position")," \u4e5f\u9609\u5272\u4e86\uff0c\u5bfc\u81f4\u6700\u540e\u6ca1\u6709\u56fe\u5f62\uff0c\u8865\u4e0a\u6765\u4e4b\u540e\u5c31\u6709\u56fe\u5f62\uff08\u4e09\u89d2\u5f62\uff09\u4e86\uff08\u4f46\u662f\u662f\u9ed1\u8272\uff09\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645473167572-7e9de9e0b54294f1a028c055f03e04feef939ac6fc999ef3858a697c3a246e8d.png",alt:"picture 14"})),"  "),(0,n.kt)("p",null,"\u9ed1\u8272\u4e00\u822c\u662f\u7740\u8272\u6ca1\u7740\u6210\uff0c\u68c0\u67e5\u4e86\u4e00\u4e0b ",(0,n.kt)("inlineCode",{parentName:"p"},"fragmentShader"),"\uff0c\u518d\u5bf9\u7167\u5b98\u7f51case\uff0c\u679c\u7136\uff0c\u6ca1\u6709\u4e00\u4e2a\u8f93\u51fa\uff0c\u52a0\u4e0a\u540e\u5c31\u6709\u767d\u8272\u7684\u4e09\u89d2\u5f62\u4e86\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645473249075-64aa9719db7a5c5d6dc546d43da3ec1d331419343e26627893db4d846645ef9f.png",alt:"picture 15"})),"  "),(0,n.kt)("p",null,"!!!tip\n\u7ed3\u679c\u540e\u6765\u53d1\u73b0\uff0c\u8fd9\u4e2a ",(0,n.kt)("inlineCode",{parentName:"p"},"gl_FragColor")," \u662f 1.0 \u7248\u672c\u4ea7\u7269\uff0c\u73b0\u5728\u4e5f\u4e0d\u884c\u2026\u2026"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{}),"![picture 19](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645475488760-5af09bfacb12d4acff18135c3bc7a7e9b88507f59a99b01802c5a055be5e9c4c.png)  \n\n\u6700\u540e\u786e\u5b9a\u662f\u7528 `gl_FragColor` \u4f46\u662f\u4e0d\u8981\u52a0 `out`\uff0c\u5e76\u4e14\u6211\u6362\u6210 `FragColor`\u4e5f\u662f\u4e0d\u5bf9\u7684\u3002\n\n![picture 20](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645475598339-b17bd92138afbcf1e6b702deb6bb8343b6b8dc25c1d9d2837ab8226be565d743.png)  \n")),(0,n.kt)("p",null,"\u63a5\u7740\u53d1\u73b0 ",(0,n.kt)("inlineCode",{parentName:"p"},"timewarp")," \u6ca1\u6548\u679c\uff0c\u4ee5\u4e3a\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"a_texcoord")," \u6ca1\u751f\u6548\uff0c\u4e8e\u662f\u6d4b\u8bd5\u6dfb\u52a0\u4e00\u4e2a\u660e\u663e\u7684\u3001\u56fa\u5b9a\u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"a_texcoord"),"\uff0c\u6d4b\u4e86\u51e0\u4e2a\uff0c\u7ed3\u679c\u8fd8\u662f\u4e0d\u884c\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645473308231-3f3e5430ae706d1d1b9db9146256cb625fbb9180cb269ec277d23cd3cf9a5590.png",alt:"picture 16"})),"  "),(0,n.kt)("p",null,"\u540e\u6765\u7814\u7a76\u8fd9\u90e8\u5206\u51fd\u6570",(0,n.kt)("inlineCode",{parentName:"p"},"gl_FragColor = texture2D(eye_texture, t);"),"\u53d1\u73b0 ",(0,n.kt)("inlineCode",{parentName:"p"},"timewarp")," \u5176\u5b9e\u5c31\u662f\u91cd\u65b0\u8bbe\u7f6e\u4e86\u8d34\u7eb8\u7684\u4e2d\u5fc3\u5750\u6807\uff08\u6240\u4ee5\u5e76\u6ca1\u6709\u4ec0\u4e48\u795e\u5947\u7684\uff09\uff0c\u65e2\u7136\u662f\u8fd9\u6837\uff0c\u518d\u8054\u7cfb\u6211\u4eec\u4e4b\u524d\u7684\u4e09\u89d2\u5f62\u95ee\u9898\uff0c\u7531\u4e8e\u6211\u4eec\u4e09\u89d2\u5f62\u7684\u989c\u8272\u662f\u5355\u4e00\u7684\u767d\u8272\uff0c\u81ea\u7136\uff0c\u5c31\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\u4e86\uff08\u56e0\u4e3a\u4e2d\u5fc3\u5750\u6807\u65e0\u8bba\u5728\u54ea\uff0c\u5468\u56f4\u90fd\u662f\u767d\u8272\uff09\u3002"),(0,n.kt)("p",null,"FIXME: \u57fa\u4e8e\u6b64\uff0c\u6211\u7a81\u7136\u60f3\u5230\uff0c\u8981\u662f\u6211\u4eec\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u51fa\u8303\u56f4\uff080-1\uff09\u7684\u5750\u6807\uff0c\u57fa\u4e8e\u5b98\u7f51\u88c1\u5207\u3001\u91cd\u590d\u90a3\u90e8\u5206\u7ae0\u8282\uff0c\u6216\u8bb8\u81f3\u5c11\u80fd\u6709\u4e0d\u4e00\u6837\u7684\u6548\u679c\u3002"),(0,n.kt)("p",null,"\u4f46\u662f\u5f88\u9057\u61be\uff0c\u8fd8\u662f\u6ca1\u6709\uff0c\u5982\u4e0b\uff0c\u6211\u8bbe\u7f6e\u6210\u4e86 (1.2, 1.3) \u90fd\u4e0d\u884c\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645473483639-3d66cd01ea124abea037b2b3c5e968f708b97a80631a0cd1e11cd95eca6e446d.png",alt:"picture 17"})),"  "),(0,n.kt)("p",null,"!!!tip\n\u539f\u6765\u8fd8\u6709\u4e00\u4e2a\u9519\u8bef\uff0c\u8fd9\u4e48\u8bbe\u7f6e\u56fa\u5b9a\u7684\u6570\u7ec4\u662f\u4e0d\u884c\u7684\u2026\u2026"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{}),"![picture 18](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645475387056-cbd35f7a3eb856a7013f6071f26fa976417fac0efb9c3b1a76cd029e44d7d7fc.png)  \n")),(0,n.kt)("p",null,"\u4f46\u8fd9\u4e5f\u4e0d\u662f\u4e0d\u53ef\u4ee5\u63a5\u53d7\uff0c\u56e0\u4e3a\u548c\u6559\u7a0b\u4e2d\u90a3\u4e2a\u573a\u666f\u8fd8\u662f\u6709\u53ef\u80fd\u4e0d\u4e00\u6837\u7684\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u4e0d\u662f\u91cd\u70b9\uff0c\u8fd9\u6761\u8def\u6682\u65f6\u4e0d\u884c\uff0c\u4e5f\u4e0d\u7528\u6df1\u7a76\uff0c\u8fd8\u6709\u4e00\u4e2a\u66f4\u52a0\u7a33\u59a5\u7684\u529e\u6cd5\uff0c\u90a3\u5c31\u662f\u6362\u8d34\u7eb8\u3002"),(0,n.kt)("p",null,"\u53c2\u7167\u5b98\u7f51\u6362\u8d34\u7eb8\u7684\u6848\u4f8b\uff1a",(0,n.kt)("a",m({parentName:"p"},{href:"https://github.com/JoeyDeVries/LearnOpenGL/blob/master/src/1.getting_started/4.1.textures/textures.cpp"}),"LearnOpenGL/textures.cpp at master \xb7 JoeyDeVries/LearnOpenGL"),"\uff1a"),(0,n.kt)("hr",null),(0,n.kt)("p",null,"\u7ec8\u4e8e\uff0c\u6709\u56fe\u7247\u4e86\uff0c\u4f46\u662f\u597d\u5947\u602a\uff0c\u662f\u975e\u5e38\u626d\u66f2\u7684\u90a3\u79cd\uff0c\u5373\u4fbf\u6211\u53d6\u6d88\u4e86\u4e00\u5207shader\u64cd\u4f5c\u4e5f\u4e0d\u884c\u2026\u2026"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645475869127-92d956fbb5f8ec89162b9032d4ace551539a665d142b13c25715148ad598074d.png",alt:"picture 21"})),"  "),(0,n.kt)("p",null,"\u7ecf\u8fc7\u4e0d\u61c8\u5c1d\u8bd5\uff0c\u4f7f\u75283.3+\u7248\u672c\u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"glad")," \u7ed3\u5408\u5b98\u7f51\u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"shader")," ",(0,n.kt)("a",m({parentName:"p"},{href:"https://github.com/JoeyDeVries/LearnOpenGL/tree/master/src/1.getting_started/4.1.textures"}),"LearnOpenGL/src/1.getting_started/4.1.textures at master \xb7 JoeyDeVries/LearnOpenGL")," \u5b8c\u6210\u4e86\u521d\u6b65\u7684\u6b63\u5e38\u663e\u793a\uff0c\u5982\u4e0b\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645476671858-7f13ef4d3a1a5cbe5bc94e56ee958a99f5ce6d7c858e30112913ba3f0050b168.png",alt:"picture 22"})),"  "),(0,n.kt)("h3",m({},{id:"fixme-gluniformmatrix4fv-is-depreciated"}),"FIXME: ",(0,n.kt)("inlineCode",{parentName:"h3"},"glUniformMatrix4fv is depreciated")),(0,n.kt)("p",null,"We can find the definition of ",(0,n.kt)("inlineCode",{parentName:"p"},"glUniformMatrix4gv")," at here ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.khronos.org/registry/OpenGL-Refpages/es2.0/xhtml/glUniform.xml"}),"glUniform"),":"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645260666205-78d660fb4698d0633c567e4e45c8b3993ee93fc59ec4b14b6a288edec9a82250.png",alt:"picture 4"})),"  "),(0,n.kt)("h3",m({},{id:"todo-\u83b7\u53d6\u7684\u59ff\u6001\u4e0d\u7b49\u4e8e\u6211\u4eec\u5bf9buffer\u8981\u505a\u7684\u64cd\u4f5c"}),"TODO: \u83b7\u53d6\u7684\u59ff\u6001\u4e0d\u7b49\u4e8e\u6211\u4eec\u5bf9buffer\u8981\u505a\u7684\u64cd\u4f5c"),(0,n.kt)("h3",m({},{id:"fixed-how-to-init-c-class"}),"FIXED: how to init C++ class"),(0,n.kt)("p",null,"As mentioned in ",(0,n.kt)("a",m({parentName:"p"},{href:"https://stackoverflow.com/questions/12248703/creating-an-instance-of-class"}),"c++ - Creating an instance of class - Stack Overflow"),", we can use: ",(0,n.kt)("inlineCode",{parentName:"p"},"Foo* foo1 = new Foo ();")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"Foo foo2")," to declare an instance of a class."),(0,n.kt)("h3",m({},{id:"fixed-how-to-import-glint"}),'FIXED: how to "import" ',(0,n.kt)("inlineCode",{parentName:"h3"},"GLint")),(0,n.kt)("p",null,"Just to add ",(0,n.kt)("inlineCode",{parentName:"p"},"#include <OpenGL/gl.h>"),", then we can use ",(0,n.kt)("inlineCode",{parentName:"p"},"GLint"),", since Mac has opengl supported built-in."),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645259030449-7aa80cf0fc080c767693b49aff0c655c3cd67a046ec9aff8ad397c0deb38ebf1.png",alt:"picture 2"})),"  "),(0,n.kt)("p",null,"It's inspired from ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.apple.com/library/archive/documentation/GraphicsImaging/Conceptual/OpenGL-MacProgGuide/opengl_drawing/opengl_drawing.html#//apple_ref/doc/uid/TP40001987-CH404-SW8"}),"Drawing to a Window or View"),":"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645259097457-7a57f4b719c630bcef342108e3d18ecb4da10e4bab214bbebd05766279ad500d.png",alt:"picture 3"})),"  "),(0,n.kt)("p",null,"More detailed configuration (on Windows) can be learned from ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.youtube.com/watch?v=AUFZnA3lW_Q"}),"How To Set Up OpenGL (and freeglut) on MinGW w/ CLion + Run Demo Programs | Game/3D programming - YouTube"),"."),(0,n.kt)("h2",m({},{id:"framework-logic"}),"Framework Logic"),(0,n.kt)("h3",m({},{id:"intro-programcachecpp"}),"intro: ",(0,n.kt)("inlineCode",{parentName:"h3"},"ProgramCache.cpp")),(0,n.kt)("p",null,"\u6653\u7814\u54e5\u8bf4Shader\u7684\u903b\u8f91\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"frameworks/native/libs/renderengine/gl/ProgramCache.cpp"),"\uff0c\u4e00\u5f00\u59cb\u6211\u8fd8\u8868\u793a\u5341\u5206\u6000\u7591\uff0c\u56e0\u4e3a\u662f\u4e00\u4e2a\u5e26",(0,n.kt)("inlineCode",{parentName:"p"},"Cache"),"\u540d\u7684\u6587\u4ef6\u3002"),(0,n.kt)("p",null,"\u4f46\u8fdb\u53bb\u4e4b\u540e\u4e00\u770b\uff0c\u4e0d\u5f97\u4e86\uff0c\u90fd\u5728\u8fd9\u91cc\u3002"),(0,n.kt)("p",null,"\u6bd4\u5982 ",(0,n.kt)("inlineCode",{parentName:"p"},"VertexShader"),":"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645104307789-42761414203cb15cd5ed1663583d311b7d7dc3e75d04dc36d32c3822d1785d60.png",alt:"picture 8"})),"  "),(0,n.kt)("p",null,"\u8fd8\u6709 ",(0,n.kt)("inlineCode",{parentName:"p"},"FragmentShader"),":"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645104326249-7ac30af4022c1d56c473a522421cb052cf98c951e92f575dd4a745f13503c34e.png",alt:"picture 9"})),"  "),(0,n.kt)("p",null,"\u8fd9\u4e24\u4e2aShader\u90fd\u662f\u751f\u6210\u51fd\u6570\uff0c\u5e76\u4e14\u8fd8\u90fd\u96c6\u4e2d\u5b9a\u4e49\u5728\u4e00\u4e2a\u51fd\u6570 ",(0,n.kt)("inlineCode",{parentName:"p"},"generateProgram")," \u4e0b\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645104352170-2c953257331770aa542ec425632168b87c0c07ce33d86abc3a43d8a049febc54.png",alt:"picture 10"})),"  "),(0,n.kt)("p",null,"\u800c ",(0,n.kt)("inlineCode",{parentName:"p"},"generateProgram")," \u53c8\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"useProgram")," \u51fd\u6570\u4e0b\u8c03\u7528\u7684\uff08\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u5730\u65b9\u4e5f\u5728\u8c03\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"generateProgram"),"\uff0c\u4f46\u662f\u4e3b\u903b\u8f91\u5e94\u8be5\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"useProgram"),"\u8fd9\u91cc \uff09\u3002"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"useProgram")," \u4e2d\u63a5\u6536 ",(0,n.kt)("inlineCode",{parentName:"p"},"EGLContext")," \u548c ",(0,n.kt)("inlineCode",{parentName:"p"},"Description"),"\uff0c\u5176\u4e2d ",(0,n.kt)("inlineCode",{parentName:"p"},"Description")," \u7528\u4e8e\u751f\u6210 ",(0,n.kt)("inlineCode",{parentName:"p"},"needs"),"\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645102966351-cfa524c9390dfd2c1452687d26c92607379ca8b37cf039d0711e9601c3583c9d.png",alt:"picture 4"})),"  "),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"computeKey")," \u51fd\u6570\u4e2d\u5bf9 ",(0,n.kt)("inlineCode",{parentName:"p"},"description")," \u8fdb\u884c\u5904\u7406\uff0c\u5c06\u76ee\u6807\u5c5e\u6027\u4e00\u4e00\u52a0\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"needs")," \u4e0a\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645103160792-1d33d27b31cabfd26ead64960e7b7f74cfb1d284cfd84f8e4350cc5e66c2082c.png",alt:"picture 5"})),"  "),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Description")," \u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"renderengine/private/Description.h")," \u4e2d\u5b9a\u4e49\u7684\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645103200832-a0e4bdaed9541deb5e4c5cc852e8a196dfc2beab98b053144a6c07826ab3afab.png",alt:"picture 6"})),"  "),(0,n.kt)("p",null,"\u5177\u4f53\u4f4d\u7f6e\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"frameworks/native/libs/renderengine/include/renderengine/private/Description.h")),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645103893037-f67f0b8dc2b57a71d1414a286fbb2088113b8c530e13595c44c42e79b482f1f9.png",alt:"picture 7"})),"  "),(0,n.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u8fd8\u662f\u6bd4\u8f83\u590d\u6742\u7684\uff0c\u5b9a\u4e49\u4e86\u5f88\u591a\u5c5e\u6027\uff0c\u4f30\u8ba1\u662f\u5168\u5c40\u7684\u3002"),(0,n.kt)("p",null,"\u6211\u4eec\u53ef\u80fd\u8981\u57fa\u4e8e\u8fd9\u4e9b\u5c5e\u6027\uff0c\u53bb\u64cd\u7eb5\u6211\u4eec\u7684\u76ee\u6807\u3002"),(0,n.kt)("h3",m({},{id:"filter-out-uniform-logic"}),"filter out ",(0,n.kt)("inlineCode",{parentName:"h3"},"uniform")," Logic"),(0,n.kt)("p",null,"We have seen some ",(0,n.kt)("inlineCode",{parentName:"p"},"uniform")," variables defined in ",(0,n.kt)("inlineCode",{parentName:"p"},"Shader")," language, such as ",(0,n.kt)("inlineCode",{parentName:"p"},"displayMaxLuminance"),"."),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645399159611-f4cf7fe64b23e2a05dae5e1dae7420059fcc67839b0f2e46b0757dc2d3f04c2e.png",alt:"picture 1"})),"  "),(0,n.kt)("p",null,"\u641c\u7d22\u53d1\u73b0\uff0c\u5176\u5b9e\u5c31\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"Prime.cpp")," \u4e2d\u8fdb\u884c\u8d4b\u503c\u7684\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645399323930-5c12eb631d6bbfb2fbfdc6d840c3ce1f72a177dde7a775f981f3c31cfeffe496.png",alt:"picture 2"})),"  "),(0,n.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u5c31\u662f\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"glGetUniformLocation")," \u51fd\u6570\u83b7\u5f97\u5730\u5740\uff0c\u63a5\u7740\u7528",(0,n.kt)("inlineCode",{parentName:"p"},"glUniform1f")," \u57fa\u4e8e ",(0,n.kt)("inlineCode",{parentName:"p"},"Description & desc")," \u8fdb\u884c\u8d4b\u503c\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645399412540-12c6a9d96c1adf88ed88f8e70b8f5b863e170e627f04eb1a436bda3be3c4d18c.png",alt:"picture 3"})),"  "),(0,n.kt)("p",null,"\u4e0d\u8fc7\u8fd9\u91cc\u6709\u4e2a\u7591\u60d1\uff0c\u8fd9\u4e2a ",(0,n.kt)("inlineCode",{parentName:"p"},"Program::Program")," \u7684\u521d\u59cb\u5316\uff0c",(0,n.kt)("inlineCode",{parentName:"p"},"vertex")," \u548c ",(0,n.kt)("inlineCode",{parentName:"p"},"fragment")," \u90fd\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"const char *"),"\uff0c\u548c\u6211\u4eec\u4e4b\u524d\u770b\u5230\u7684\u4e0d\u65ad\u7684\u52a0\u6587\u672c\u4e0d\u592a\u4e00\u6837\uff0c\u6240\u4ee5\u5f97\u770b\u4e00\u4e0b\u662f\u600e\u4e48\u521d\u59cb\u5316\u7684\u3002"),(0,n.kt)("h3",m({},{id:"add-vertexshader-and-fragmentshader"}),"add ",(0,n.kt)("inlineCode",{parentName:"h3"},"vertexShader")," and ",(0,n.kt)("inlineCode",{parentName:"h3"},"fragmentShader")),(0,n.kt)("h2",m({},{id:"timewarp-forecast"}),"Timewarp Forecast"),(0,n.kt)("h3",m({},{id:"documentation"}),"documentation"),(0,n.kt)("p",null,"\u2728\u2728 \u8fd9\u662f\u5173\u4e8e\u59ff\u6001\u7684\u975e\u5e38\u597d\u7684\u4ecb\u7ecd\u8d44\u6599"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"http://www.crazepony.com/book/wiki/attitude-math.html"}),"\u59ff\u6001\u7684\u6570\u5b66\u8868\u793a\u65b9\u6cd5 | Crazepony\u5f00\u6e90\u56db\u8f74\u98de\u884c\u5668"))),(0,n.kt)("p",null,"\u2728\u2728 \u8fd9\u662f\u4e00\u7bc7\u975e\u5e38\u597d\u7684\uff0c\u624b\u628a\u624b\u7684\u57fa\u4e8eMA\u548c\u52a8\u91cf\u7684\u65f6\u95f4\u5e8f\u5217\u9884\u6d4b\u6559\u7a0b\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"https://phdinds-aim.github.io/time_series_handbook/02_LinearForecastingTrendandMomentumForecasting/02_LinearTrendandMomentumForecasting.html#momentum-strategies"}),"Chapter 2: Linear, Trend, and Momentum Forecasting \u2014 Time Series Analysis Handbook"))),(0,n.kt)("p",null,"\u2728\u2728 \u7406\u89e3\u5361\u5c14\u66fc\u6ee4\u6ce2"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"https://www.zhihu.com/question/23971601"}),"(19 \u5c01\u79c1\u4fe1 / 68 \u6761\u6d88\u606f) \u5982\u4f55\u901a\u4fd7\u5e76\u5c3d\u53ef\u80fd\u8be6\u7ec6\u5730\u89e3\u91ca\u5361\u5c14\u66fc\u6ee4\u6ce2\uff1f - \u77e5\u4e4e"))),(0,n.kt)("p",null,"\u2728\u2728 \u7406\u89e3\u4f20\u611f\u5668\u878d\u5408"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"https://www.youtube.com/watch?v=6qV3YjFppuc&t=59s"}),"Understanding Sensor Fusion and Tracking, Part 1: What Is Sensor Fusion? -\nYouTube"))),(0,n.kt)("h3",m({},{id:"workflow"}),"workflow"),(0,n.kt)(r.Mermaid,{config:{},chart:"flowchart TD\n\nIMU_glasses -- We Are Here --\x3e data1\n\nCV -- And Here --\x3e data2\n\nAlgoFix[[AlgoAdjust<statistics> ?]]\n\ndata1 --\x3e AlgoFix\n\nAlgoFix --\x3e data2\n\ndata2 --\x3e AlgoFilter[[AlgoCombine<Calman Filter> ?]]\n\ndata1 --\x3e  AlgoFilter --\x3e data3\n\nIMU_car -- And Here --\x3e data4\n\ndata4 --\x3e AlgoAntiCar[[AlgoAntiCar ?]]\n\ndata2 --\x3e AlgoAntiCar\n\ndata3 --\x3e AlgoAntiCar\n\nAlgoAntiCar --\x3e data\n\nVOICE/etc --\x3e AlgoPredict[[AlgoPredict<Polynomial/GARCH/SVM> ?]]\n\ndata --\x3e AlgoPredict\n\nAlgoPredict -- What's the day ? --\x3e predict\n",mdxType:"Mermaid"}),(0,n.kt)("h2",m({},{id:"timewarp-algo"}),"Timewarp Algo"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-cpp"}),'/**\n * see: glm of "./ext/matrix_transform.inl" 153L, 4728B\n * @param m \n * @param v \n * @return \n */\nmat4 translate(mat4 m, vec3 v) {\n    mat4 result(m);\n    result[3] = m[0] * v[0] + m[1] * v[1] + m[2] * v[2] + m[3];\n    return result;\n}\n')),(0,n.kt)("h2",m({},{id:"markupdate2022-02-25-timewarp-framework-test"}),"mark::update@2022-02-25: timewarp framework test"),(0,n.kt)("ul",m({},{className:"contains-task-list"}),(0,n.kt)("li",m({parentName:"ul"},{className:"task-list-item"}),(0,n.kt)("input",m({parentName:"li"},{type:"checkbox",checked:!1,disabled:!0}))," ","timewarp \u7684 matrix \u6ca1\u6709\u6253\u5370\u51fa\u6765\uff08\u53ef\u80fd\u662f\u6dfb\u52a0\u4f4d\u7f6e\u9519\u8bef\uff0c\u90a3\u4e2a\u5730\u65b9\u662f\u521d\u59cb\u5316\u7528\u7684\uff09"),(0,n.kt)("li",m({parentName:"ul"},{className:"task-list-item"}),(0,n.kt)("input",m({parentName:"li"},{type:"checkbox",checked:!1,disabled:!0}))," ","timewarp shader\u6548\u679c\u5f02\u5e38\uff08\u53ef\u80fd\u662f TexCoords \u95ee\u9898\uff0c\u56e0\u4e3a\u8f93\u5165\u662f vec4, \u6211\u4eec\u9700\u8981 vec2")),(0,n.kt)("h3",m({},{id:"\u6253\u5370-timewarp-matrix"}),"\u6253\u5370 timewarp matrix"),(0,n.kt)("p",null,"\u53d1\u73b0\u6839\u672c\u6ca1\u6709\u8d70\u6211\u4eec\u7684\u903b\u8f91\uff01"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645781575138-e73b62170a17742737c2602a69f32ae9125c07680404a719796eed62c4f8cc68.png",alt:"picture 42"})),"  "),(0,n.kt)("p",null,"\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u9700\u8981 ide \u8fdb\u884c\u8c03\u8bd5\u4e86\u3002"),(0,n.kt)("p",null,"\u5b9a\u4f4d\u5230\u6211\u4eec\u6253\u5370 matrix \u7684\u90e8\u5206\uff0c\u662f\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"Program::setUniform")," \u91cc\uff0c\u540e\u6765\u6211\u4eec\u52a0\u4e86\u65ad\u70b9\uff0c\u7ed3\u679c\u53d1\u73b0\uff0c\u903b\u8f91\u662f\u8d70\u7684\uff0c\u4f46\u662f\u6211\u4eec\u7684\u53d8\u91cf\u6ca1\u6709\u89e6\u53d1\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645786799310-6446b04b1c59393fdaaa5387a859e0aba47f9bfbb52e83a357024fefa06a77aa.png",alt:"picture 43"})),"  "),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645786832556-355194cfe1b92f8cc10676469801ca61e9f799f6886e5377ae2ffde2e68cbad3.png",alt:"picture 44"})),"  "),(0,n.kt)("hr",null),(0,n.kt)("p",null,"\u4fee\u6539\u540e\u53d1\u73b0\uff0c\u8fd8\u5269\u4e00\u4e2a ",(0,n.kt)("inlineCode",{parentName:"p"},"mArparaTimewarpEnableLoc")," \u6ca1\u7ed1\u5b9a\u4e0a\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645787489410-6d0f8a7e51c55e30ca01dd0a09cbe83a81e62b446261a3095d4325f8afa4e3d1.png",alt:"picture 45"})),"  "),(0,n.kt)("p",null,"\u77e5\u9053\u539f\u56e0\u4e86\uff0c\u539f\u6765\u662f\u88ab\u4f18\u5316\u4e86\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645787592305-c48c145796b8014da362311f9e7b50ef6b29e138d7a766cd9b29cf112d5d6321.png",alt:"picture 46"})),"  "),(0,n.kt)("h2",m({},{id:"can-we-change-log-level"}),"can we change log level?"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-sh"}),"adb shell setprop log.tag.XXX V\n")),(0,n.kt)("p",null,"ref: - ",(0,n.kt)("a",m({parentName:"p"},{href:"https://stackoverflow.com/questions/2018263/how-do-i-enable-disable-log-levels-in-android"}),"logging - How do I enable/disable log levels in Android? - Stack Overflow")),(0,n.kt)("h2",m({},{id:"can-we-debug-shader"}),"can we debug shader?"),(0,n.kt)("p",null,"see at ",(0,n.kt)("a",m({parentName:"p"},{href:"https://stackoverflow.com/questions/41161346/is-it-possible-to-debug-shaders-in-android-opengl-es-2"}),"Is it possible to debug shaders in Android OpenGL ES 2? - Stack Overflow"),", it's impossible:"),(0,n.kt)("p",null,(0,n.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/tw-research-1645781153080-6f7d1ae10fe226550c62e358e8ef6c070e4f3699e15b1ef40d3af976c6f6c055.png",alt:"picture 40"}))))}N.isMDXComponent=!0},11748:(e,a,t)=>{var n={"./locale":89234,"./locale.js":89234};function r(e){var a=i(e);return t(a)}function i(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=11748}}]);