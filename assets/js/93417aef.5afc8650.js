(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7502],{72630:(e,r,o)=>{"use strict";o.r(r),o.d(r,{assets:()=>b,contentTitle:()=>u,default:()=>y,frontMatter:()=>m,metadata:()=>g,toc:()=>h});var a=o(3905),n=o(93456),t=Object.defineProperty,s=Object.defineProperties,i=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(e,r,o)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,f=(e,r)=>{for(var o in r||(r={}))p.call(r,o)&&l(e,o,r[o]);if(d)for(var o of d(r))c.call(r,o)&&l(e,o,r[o]);return e};const m={},u="arpara distortion logic",g={unversionedId:"AndroidFramework/AOSP/TaskA4-sf-research/arpara-distortion-logic",id:"AndroidFramework/AOSP/TaskA4-sf-research/arpara-distortion-logic",title:"arpara distortion logic",description:"",source:"@site/library/docs/AndroidFramework/AOSP/TaskA4-sf-research/arpara-distortion-logic.md",sourceDirName:"AndroidFramework/AOSP/TaskA4-sf-research",slug:"/AndroidFramework/AOSP/TaskA4-sf-research/arpara-distortion-logic",permalink:"/docs/AndroidFramework/AOSP/TaskA4-sf-research/arpara-distortion-logic",draft:!1,editUrl:"https://github.com/markshawn2020/keeps-learning/edit/master/library/docs/AndroidFramework/AOSP/TaskA4-sf-research/arpara-distortion-logic.md",tags:[],version:"current",lastUpdatedAt:1659094315,formattedLastUpdatedAt:"2022\u5e747\u670829\u65e5",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"aosp changes",permalink:"/docs/AndroidFramework/AOSP/TaskA3-aosp-changes/aosp-changes"},next:{title:"surfaceflinger display research",permalink:"/docs/AndroidFramework/AOSP/TaskA4-sf-research/sf-howto"}},b={},h=[],k={toc:h};function y(e){var r,o=e,{components:t}=o,l=((e,r)=>{var o={};for(var a in e)p.call(e,a)&&r.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&d)for(var a of d(e))r.indexOf(a)<0&&c.call(e,a)&&(o[a]=e[a]);return o})(o,["components"]);return(0,a.kt)("wrapper",(r=f(f({},k),l),s(r,i({components:t,mdxType:"MDXLayout"}))),(0,a.kt)("h1",f({},{id:"arpara-distortion-logic"}),"arpara distortion logic"),(0,a.kt)(n.Mermaid,{config:{},chart:"flowchart TD\n\n\n\nsubgraph doComposition[step4. doComposition]\n    direction TB\n\n    subgraph doDisplayComposition[repaint-framebuffer]\n        direction TB\n\n        r[return]\n        doComposerSurface{doComposerSurface} --\x3e |NO| r\n        doComposerSurface --\x3e |YES| swapBuffer[swapBuffer of presentation] --\x3e r\n    end\n\n    displayStateEnabled{displayStateEnabled}\n    --\x3e |YES| doDisplayComposition\n    --\x3e clearAndFlip[swap framebuffer]\nend\n\n\nsubgraph doDebugFlashRegions[step3. doDebugFlashRegions:2000]\n    direction TB\n\n    needDoComposerSurface{displayStateEnabled +<br> dirtyRegionNotEmpty}\n    --\x3e |YES| doComposerSurface.FlashRegions\n    --\x3e renderEngine.queueBuffer\n    --\x3e postFrameBuffer\n\n    needDoComposerSurface --\x3e |NO| postFrameBuffer\n    --\x3e prepareFrame\nend\n\nsubgraph for:displays\n    direction TB\n\n    beginFrame[step1. beginFrame]\n    --\x3e prepareFrame.Refresh[step2. prepareFrame]\n    --\x3e doDebugFlashRegions\n    --\x3e doComposition\nend\n\nsubgraph handleMessageRefresh\n    direction TB\n\n    preComposition \n    --\x3e rebuildLayerStacks \n    --\x3e calculateWorkingSet \n    --\x3e for:displays\n    --\x3e logLayerStates\n    --\x3e postFrame\n    --\x3e postComposition\n    --\x3e vsync.onRefreshed\n    --\x3e queueFrames.clear\n\nend\n",mdxType:"Mermaid"}))}y.isMDXComponent=!0},11748:(e,r,o)=>{var a={"./locale":89234,"./locale.js":89234};function n(e){var r=t(e);return o(r)}function t(e){if(!o.o(a,e)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=t,e.exports=n,n.id=11748}}]);