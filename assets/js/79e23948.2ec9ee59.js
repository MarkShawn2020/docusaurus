"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1973],{3905:(e,a,r)=>{r.d(a,{Zo:()=>s,kt:()=>u});var t=r(67294);function n(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function o(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function i(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?o(Object(r),!0).forEach((function(a){n(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}function l(e,a){if(null==e)return{};var r,t,n=function(e,a){if(null==e)return{};var r,t,n={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],a.indexOf(r)>=0||(n[r]=e[r]);return n}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],a.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var d=t.createContext({}),m=function(e){var a=t.useContext(d),r=a;return e&&(r="function"==typeof e?e(a):i(i({},a),e)),r},s=function(e){var a=m(e.components);return t.createElement(d.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},p=t.forwardRef((function(e,a){var r=e.components,n=e.mdxType,o=e.originalType,d=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=m(r),u=n,k=p["".concat(d,".").concat(u)]||p[u]||c[u]||o;return r?t.createElement(k,i(i({ref:a},s),{},{components:r})):t.createElement(k,i({ref:a},s))}));function u(e,a){var r=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=p;var l={};for(var d in a)hasOwnProperty.call(a,d)&&(l[d]=a[d]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var m=2;m<o;m++)i[m]=r[m];return t.createElement.apply(null,i)}return t.createElement.apply(null,r)}p.displayName="MDXCreateElement"},91509:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>m});var t=r(87462),n=(r(67294),r(3905));const o={},i=void 0,l={unversionedId:"coding/JS/develop-remark-plugin",id:"coding/JS/develop-remark-plugin",title:"develop-remark-plugin",description:"1. develop own markdown parser or renderer",source:"@site/docs/coding/JS/develop-remark-plugin.md",sourceDirName:"coding/JS",slug:"/coding/JS/develop-remark-plugin",permalink:"/keeps-learning/docs/coding/JS/develop-remark-plugin",draft:!1,editUrl:"https://github.com/markshawn2020/docusaurus/edit/master/docs/coding/JS/develop-remark-plugin.md",tags:[],version:"current",lastUpdatedAt:1658770976,formattedLastUpdatedAt:"2022\u5e747\u670825\u65e5",frontMatter:{},sidebar:"docs",previous:{title:"database",permalink:"/keeps-learning/docs/coding/JS/database"},next:{title:"js-bugfix",permalink:"/keeps-learning/docs/coding/JS/js-bugfix"}},d={},m=[{value:"develop own markdown parser or renderer",id:"develop-own-markdown-parser-or-renderer",level:2},{value:"where does code fence define",id:"where-does-code-fence-define",level:3},{value:"re-read <code>remark-parse</code>",id:"re-read-remark-parse",level:3},{value:"from &#39;remark-parse&#39; to &#39;madst-util-from-markdown&#39;",id:"from-remark-parse-to-madst-util-from-markdown",level:3},{value:"from &#39;mdast-util-directive&#39; to &#39;remark-util-directive&#39;",id:"from-mdast-util-directive-to-remark-util-directive",level:3},{value:"codes",id:"codes",level:3},{value:"For markdown plugin develop, what I installed...",id:"for-markdown-plugin-develop-what-i-installed",level:2},{value:"add plugin of <code>remark-admonitions</code>",id:"add-plugin-of-remark-admonitions",level:2}],s={toc:m};function c(e){let{components:a,...r}=e;return(0,n.kt)("wrapper",(0,t.Z)({},s,r,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#develop-own-markdown-parser-or-renderer"},"develop own markdown parser or renderer"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#where-does-code-fence-define"},"where does code fence define")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#re-read-remark-parse"},"re-read ",(0,n.kt)("inlineCode",{parentName:"a"},"remark-parse"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#from-remark-parse-to-madst-util-from-markdown"},"from 'remark-parse' to 'madst-util-from-markdown'")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#from-mdast-util-directive-to-remark-util-directive"},"from 'mdast-util-directive' to 'remark-util-directive'")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#codes"},"codes")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#for-markdown-plugin-develop-what-i-installed"},"For markdown plugin develop, what I installed...")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#add-plugin-of-remark-admonitions"},"add plugin of ",(0,n.kt)("inlineCode",{parentName:"a"},"remark-admonitions")),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"                                        micromark\n")),"+-----------------------------------------------------------------------------------------------+\n|            +------------+         +-------+         +-------------+         +---------+       |\n| -markdown->+ preprocess +-chunks->+ parse +-events->+ postprocess +-events->+ compile +-html- |\n|            +------------+         +-------+         +-------------+         +---------+       |\n+-----------------------------------------------------------------------------------------------+")),(0,n.kt)("h2",{id:"develop-own-markdown-parser-or-renderer"},"develop own markdown parser or renderer"),(0,n.kt)("img",{alt:"picture 39",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640534835564-develop-remark-pulgin-53d15886abb4e96df53e8dd633818aace151b554f07c9f82e9d68827b4981e2c.png",width:"480"}),(0,n.kt)("img",{alt:"picture 40",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640534849836-develop-remark-pulgin-fe8329f439e5bd5b23ae887bd35cca9196ab3174f5da692ff109b105ba9db908.png",width:"480"}),(0,n.kt)("img",{alt:"picture 41",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640535067245-develop-remark-pulgin-125972fad0bafd18f6d30d389588a614a8d5e1af6f5b11125dd7421a128cc929.png",width:"480"}),(0,n.kt)("h3",{id:"where-does-code-fence-define"},"where does code fence define"),(0,n.kt)("img",{alt:"picture 42",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640535550983-develop-remark-pulgin-91953f2402b316961585fc0d36c29ab6bfb4624dc9172c6f81c9a36df3c57579.png",width:"480"}),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-text"},"graveAccent: '`'\n")),(0,n.kt)("img",{alt:"picture 43",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640535610458-develop-remark-pulgin-c0a04e05910e60778e0e7285e1d89173e1a7776f73c52c255b8e0650d38adcef.png",width:"480"}),"ref: https://github.com/micromark/micromark/blob/1b378e72675b15caff021f957a824d1f01420774/packages/micromark-util-symbol/values.js",(0,n.kt)("img",{alt:"picture 44",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640535975633-develop-remark-pulgin-f46fd886e5f2fa678d5602db467e55435da9a745382aa4c11bb3280aba8aa695.png",width:"480"}),"ref: https://github.com/micromark/micromark/blob/1b378e72675b15caff021f957a824d1f01420774/packages/micromark-core-commonmark/dev/lib/code-fenced.js",(0,n.kt)("h3",{id:"re-read-remark-parse"},"re-read ",(0,n.kt)("inlineCode",{parentName:"h3"},"remark-parse")),(0,n.kt)("img",{alt:"picture 45",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640536201826-develop-remark-pulgin-1d4d57f6541d2939d8d67275c6fe5fd0e78e16fd367b7dededf3a8ec6c496443.png",width:"480"}),(0,n.kt)("img",{alt:"picture 47",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640536341787-develop-remark-pulgin-7c68078f8db11f6cb96515d1d7cb4235bc1952e3e01cf1ce55d3097534ac2849.png",width:"480"}),(0,n.kt)("img",{alt:"picture 48",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640536429419-develop-remark-pulgin-1e41b15b1c6e53bd3bd6e305ba181a9e382904a213cbf3b08424193a45db5db2.png",width:"480"}),(0,n.kt)("p",null,"what's micromarkExtensions"),(0,n.kt)("img",{alt:"picture 49",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640536520719-develop-remark-pulgin-a4d866acb9b4ac9afc5f36bfae9f4f7449a2ca221d84ff04b27344c8bd0fdbc8.png",width:"480"}),(0,n.kt)("p",null,"found block sign!"),(0,n.kt)("img",{alt:"picture 50",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640536648776-develop-remark-pulgin-b100cd6b8014ff9e86ead4d8299b0987851226170b4e6da3222d5f971a9f4c47.png",width:"480"}),"ref: https://github.com/micromark/micromark-extension-directive",(0,n.kt)("h3",{id:"from-remark-parse-to-madst-util-from-markdown"},"from 'remark-parse' to 'madst-util-from-markdown'"),(0,n.kt)("img",{alt:"picture 51",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640540654644-develop-remark-pulgin-54bfad5fd02ca4f174ca8b127baf9a877ba76f2ee8fe0cb5868d35c29a5ed75f.png",width:"480"}),(0,n.kt)("img",{alt:"picture 53",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640542150793-develop-remark-pulgin-a57c943a08b8fae7954ac1b3aa3aefe38e4802bdbeaa628995bf1b47a85f5e1a.png",width:"480"}),(0,n.kt)("img",{alt:"picture 52",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640542124402-develop-remark-pulgin-55718c8af6c06e2e1d700bc1a327031901c070b39db7205f45799fc26247c054.png",width:"480"}),(0,n.kt)("img",{alt:"picture 54",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640542514584-develop-remark-pulgin-a449642c210f1374cbcc8c53768f1b359aabc172f5d702b83f9f8ebfce0ab8d5.png",width:"480"}),(0,n.kt)("h3",{id:"from-mdast-util-directive-to-remark-util-directive"},"from 'mdast-util-directive' to 'remark-util-directive'"),(0,n.kt)("h3",{id:"codes"},"codes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/micromark/micromark/blob/main/packages/micromark-core-commonmark/dev/lib/code-fenced.js"},"micromark/code-fenced.js at main \xb7 micromark/micromark"))),(0,n.kt)("p",null,"the base of parse"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/micromark/micromark"},"micromark/micromark: the smallest commonmark (optionally gfm) compliant markdown parser that exists; new basis for @unifiedjs (hundreds of projects w/ billions of downloads for dealing w/ content)"))),(0,n.kt)("img",{alt:"picture 37",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640533690391-develop-remark-pulgin-33eda7fa976522971c92fffb2b5206f90c9262c29f7b0474eb838fc9850f8c94.png",width:"480"}),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"mdast")," uses many interfaces from ",(0,n.kt)("inlineCode",{parentName:"p"},"mdast")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/syntax-tree/mdast-util-from-markdown/blob/main/dev/lib/index.js"},"mdast-util-from-markdown/index.js at main \xb7 syntax-tree/mdast-util-from-markdown"))),(0,n.kt)("p",null,"The only thing ",(0,n.kt)("inlineCode",{parentName:"p"},"remark-parse")," does is to call ",(0,n.kt)("inlineCode",{parentName:"p"},"mdast-util-from-markdown")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/remarkjs/remark/blob/main/packages/remark-parse/lib/index.js"},"remark/index.js at main \xb7 remarkjs/remark"))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/unifiedjs/unified/blob/6b060c2a229049e1bc0e7ea51920b36efb069f9f/index.d.ts"},"unified/index.d.ts at 6b060c2a229049e1bc0e7ea51920b36efb069f9f \xb7 unifiedjs/unified"))),(0,n.kt)("h2",{id:"for-markdown-plugin-develop-what-i-installed"},"For markdown plugin develop, what I installed..."),(0,n.kt)("img",{alt:"picture 58",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640561256909-develop-remark-pulgin-7ffbdae57a305e6f05bdf4c974093415c5ec83b20376ccd8e9bf203fe928b3d5.png",width:"480"}),(0,n.kt)("p",null,"In fact, I need none of them except:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "remark": "^13.0.0",\n    "remark-directive": "^2.0.1",\n    "remark-parse": "^10.0.1"\n}\n')),(0,n.kt)("p",null,"refer:\ngatsby "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.gatsbyjs.com/tutorial/remark-plugin-tutorial/"},"Creating a Remark Transformer Plugin | Gatsby"))),(0,n.kt)("p",null,"handbook"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/unifiedjs/handbook"},"unifiedjs/handbook: [WIP] A handbook on the unified ecosystem, including supported syntaxes, ASTs, and guides on how to use the libraries"))),(0,n.kt)("p",null,"\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f An AAAAAAAAAAwesome adn detailed tutorial from real practice of building a beautiful block code"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://ped.ro/blog/code-blocks-but-better"},"Pedro Duarte \u2014 Code blocks, but better"))),(0,n.kt)("p",null,"An AAAAAwesome tutorial, except a bit easy and old"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://css-tricks.com/how-to-modify-nodes-in-an-abstract-syntax-tree/"},"How to Modify Nodes in an Abstract Syntax Tree - CSS-Tricks"))),(0,n.kt)("p",null,"An awesome video tutorial"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://egghead.io/lessons/javascript-create-a-remark-plugin-to-modify-markdown-headings"},"Create a remark Plugin to Modify Markdown Headings | egghead.io"))),(0,n.kt)("p",null,"source code of msat"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://npmdoc.github.io/node-npmdoc-remark/build/apidoc.html#apidoc.tableOfContents"},"https://npmdoc.github.io/node-npmdoc-remark/build/apidoc.html#apidoc.tableOfContents"))),(0,n.kt)("p",null,"official remark plugins list"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/remarkjs/remark/blob/main/doc/plugins.md"},"remark/plugins.md at main \xb7 remarkjs/remark"))),(0,n.kt)("p",null,"official mdast reference"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/syntax-tree/mdast"},"syntax-tree/mdast: Markdown Abstract Syntax Tree format"))),(0,n.kt)("p",null,"a loaders intro of chinese"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://zhuanlan.zhihu.com/p/386474371"},"loader\u77e5\u8bc6\u70b9 - \u77e5\u4e4e"))),(0,n.kt)("p",null,"webpack remark loader homepage"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://webpack.docschina.org/loaders/remark-loader/"},"remark-loader | webpack \u4e2d\u6587\u6587\u6863"))),(0,n.kt)("p",null,"A good article except not so detailed"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://swizec.com/blog/how-to-build-a-remark-plugin-to-supercharge-your-static-site/"},"How to build a Remark plugin to supercharge your static site | Swizec Teller"))),(0,n.kt)("p",null,"A deeper article based on Asynchronous plugin"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.huy.dev/2018-05-remark-gatsby-plugin-part-3/"},"Writing plugins for remark and gatsby-transformer-remark (part 3) | huy.dev"))),(0,n.kt)("p",null,"A plugin based on ",(0,n.kt)("inlineCode",{parentName:"p"},"visit block")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/remcohaszing/remark-mermaidjs"},"remcohaszing/remark-mermaidjs: A remark plugin to render mermaid diagrams using puppeteer"))),(0,n.kt)("h2",{id:"add-plugin-of-remark-admonitions"},"add plugin of ",(0,n.kt)("inlineCode",{parentName:"h2"},"remark-admonitions")),(0,n.kt)("p",null,"refer:\nrehype"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://github.com/rehypejs/rehype"},"rehypejs/rehype: HTML processor powered by plugins part of the @unifiedjs collective"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://github.com/elviswolcott/remark-admonitions"},"elviswolcott/remark-admonitions: Add admonitions support to Remarkable")))))}c.isMDXComponent=!0}}]);