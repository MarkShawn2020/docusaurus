<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Coding/JS/js-discuss">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="alternate" type="application/rss+xml" href="/keeps-learning/blog/rss.xml" title="南川笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/keeps-learning/blog/atom.xml" title="南川笔记 Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QFQ00XLDNZ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-QFQ00XLDNZ",{anonymize_ip:!0})</script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">js discuss | 南川笔记</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://markshawn2020.github.io/keeps-learning/docs/Coding/JS/js-discuss"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="js discuss | 南川笔记"><meta data-rh="true" name="description" content="[toc]"><meta data-rh="true" property="og:description" content="[toc]"><link data-rh="true" rel="icon" href="/keeps-learning/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://markshawn2020.github.io/keeps-learning/docs/Coding/JS/js-discuss"><link data-rh="true" rel="alternate" href="https://markshawn2020.github.io/keeps-learning/docs/Coding/JS/js-discuss" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://markshawn2020.github.io/keeps-learning/docs/Coding/JS/js-discuss" hreflang="x-default"><link rel="stylesheet" href="/keeps-learning/assets/css/styles.6bbfa55a.css">
<link rel="preload" href="/keeps-learning/assets/js/runtime~main.9a399363.js" as="script">
<link rel="preload" href="/keeps-learning/assets/js/main.402f255e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/keeps-learning/"><div class="navbar__logo"><img src="/keeps-learning/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/keeps-learning/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">南川笔记</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/keeps-learning/docs/">My Docs</a><a class="navbar__item navbar__link" href="/keeps-learning/blog">My Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/markshawn2020/keeps-learning" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/keeps-learning/docs/">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/keeps-learning/docs/TODO">TODO</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/keeps-learning/docs/SLAM/A01-recognizeLights">SLAM</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/SLAM/A01-recognizeLights">A01: recognize lights</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/SLAM/slam-research">slam-research</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/SLAM/slambook2-ch13">slambook2-ch13</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/SLAM/slambook2-learning">slambook2-learning</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/keeps-learning/docs/AndroidFramework/AOSP/TaskA1-aosp-pull/aosp-pull">AndroidFramework</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/keeps-learning/docs/Coding/CPP/cpp-howto">Coding</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/CPP/cpp-howto">CPP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/CSS/css-howto">CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/Go/go-howto">Go</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/HTML/html-howto">HTML</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/keeps-learning/docs/Coding/JS/CodeQuality_eslint_prettier_jest/eslint-howto">JS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/JS/CodeQuality_eslint_prettier_jest/eslint-howto">CodeQuality_eslint_prettier_jest</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/JS/Electron/electron-bugfix">Electron</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/JS/React/react-howto">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/JS/Vue/vue-howto">Vue</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/Coding/JS/database">database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/Coding/JS/develop-remark-plugin">develop-remark-plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/Coding/JS/js-bugfix">js-bugfix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/keeps-learning/docs/Coding/JS/js-discuss">js discuss</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/Coding/JS/js-howto">js-howto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/Coding/JS/npm_yarn-bugfix">npm/yarn bugfix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/Coding/JS/npm_yarn-howto">npm/yarn howto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/Coding/JS/redux">redux</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/Java/java-howto">Java</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/Markdown/markdown-howto">Markdown</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/Python/Python-Finance/">Python</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/TS/ts-bugfix">TS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/Unity/unity-howto">Unity</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/Coding/coding-best-practice">coding best practice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/keeps-learning/docs/Coding/coding-design">编程设计艺术思考（持续更新）</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/keeps-learning/docs/Coding/regex/regex-howto">regex</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/keeps-learning/docs/Notes/uploaded/I-am-me">Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/keeps-learning/docs/OS/Linux/centos-init-manual">OS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/keeps-learning/docs/Softwares/Adobe/PS/support-for-little-stars/">Softwares</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/keeps-learning/docs/TODO-closed">TODO-closed</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/keeps-learning/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Coding</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">JS</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">js discuss</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：0.16.0+</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>js discuss</h1><p>[toc]</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="then-catch-vs-try-catch"><code>then-catch</code> vs <code>try-catch</code><a class="hash-link" href="#then-catch-vs-try-catch" title="标题的直接链接">​</a></h2><img loading="lazy" alt="picture 1" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641809779883-c7d09989902e6954494a736f27aa0a6d7543634380efa56c31b33e746b447575.png" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prettier-comment-alignment">Prettier comment alignment<a class="hash-link" href="#prettier-comment-alignment" title="标题的直接链接">​</a></h2><p>It can&#x27;t be done in prettier, since the developers consider it as a sophisticated task, and also not consistent with their option philosophy.</p><img loading="lazy" alt="picture 49" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641728758989-050575f27ccd7519f8c804cbdaedd189053b9c610dc9a50022f81948a22392c9.png" class="img_ev3q"><img loading="lazy" alt="picture 50" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641728763921-c9e32578e1ba7488eccbdd62bd33c00728f976d3e5bc18da1c88fe2f47405e78.png" class="img_ev3q"><img loading="lazy" alt="picture 52" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641728776000-36a88c1b29c6642190b794fef9ef2931d14ded06848061f46da80c4872410ab9.png" class="img_ev3q"><p>ref:</p><ul><li><p><a href="https://github.com/prettier/prettier/issues/350" target="_blank" rel="noopener noreferrer">Feature request: vertical alignment. · Issue #350 · prettier/prettier</a></p></li><li><p><a href="https://github.com/prettier/prettier/issues/188" target="_blank" rel="noopener noreferrer">Handle block scoped alignement formatting · Issue #188 · prettier/prettier</a></p></li><li><p><a href="https://prettier.io/docs/en/option-philosophy.html" target="_blank" rel="noopener noreferrer">Option Philosophy · Prettier</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="excel-select">Excel Select<a class="hash-link" href="#excel-select" title="标题的直接链接">​</a></h2><p>Since there are too many excel packages, not unified, unknown problems, I decided to not use excel.</p><img loading="lazy" alt="picture 27" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641582345747-cff2c666104fbcd0a3e8318d6c6b3e788fae74aac3fabeaad528426426391c1f.png" class="img_ev3q"><img loading="lazy" alt="picture 26" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641582333762-9af3250d78cf646a2beb7915c63f2e9d979b77458639db916328e6aaab0c258e.png" class="img_ev3q"><p>After all, to them, using excel or not, doesn&#x27;t differ too much. But to me, not.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="todo-database-select-node-sqlite3-better-sqlite3-typeorm-prisma">TODO: Database Select: <code>node-sqlite3</code>, <code>better-sqlite3</code>, <code>typeorm</code>, <code>prisma</code><a class="hash-link" href="#todo-database-select-node-sqlite3-better-sqlite3-typeorm-prisma" title="标题的直接链接">​</a></h2><p>A wonderful and respective thing the <code>typeorm</code> did, is to provide developers with a clarified, transparent, and full api, which is hardly to see in prisma or so packages.</p><img loading="lazy" alt="picture 23" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641565563329-0b89484f2919f47e6775fb78384ff17fbd1f56d9d8a04d0d40c886ca435e95a2.png" class="img_ev3q"><p>At least, from my own experience, the prisma is even still hardcoding their database query status, which seems unacceptable for those like me to develop a robust application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="err_request_esm">[ERR_REQUEST_ESM]<a class="hash-link" href="#err_request_esm" title="标题的直接链接">​</a></h2><p>If your code copied from some place using require, and you can&#x27;t run it now out of <code>ERR_REQUEST_ESM</code>, <strong>it doesn&#x27;t mean the code is wrong but maybe mean it&#x27;s written in the <code>node v2</code> times</strong>.</p><img loading="lazy" alt="picture 32" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640506880513-esm-and-cjs-e78aac5c0197ac862b3ffd79928281bbef7aa3ddb2b174aa275b49e61b570e6a.png" width="480" class="img_ev3q"><img loading="lazy" alt="picture 30" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640506761078-esm-and-cjs-99e60788adab33f6ce6096f54a34d91ff2ef29f7249f762a5e745d95005134e4.png" width="480" class="img_ev3q"><img loading="lazy" alt="picture 31" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640506791606-esm-and-cjs-73099ad6f0939938ecc3952806c375622188afc3ee3261964aedaf95d653dcfc.png" width="480" class="img_ev3q"><p>And now, the simplest remedy you can use is to change all the <code>require</code> into <code>import</code> like this: </p><img loading="lazy" alt="picture 33" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640507226907-esm-and-cjs-f4cf785aa0b5e5377c0ea6ebee710ea62c939b538d1f42e01cc67f6f7af59c76.png" width="480" class="img_ev3q"><p>And change the file extension from <code>.js</code> to <code>.mjs</code>, then things is ok:</p><img loading="lazy" alt="picture 34" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640507277192-esm-and-cjs-25a0f1a62101aba503461e3dc2b9f3ef77763e2e0d535869b4d4730a45d3c05b.png" width="480" class="img_ev3q"><p>ref: </p><ul><li><a href="https://stackoverflow.com/questions/69081410/error-err-require-esm-require-of-es-module-not-supported" target="_blank" rel="noopener noreferrer">javascript - Error [ERR_REQUIRE_ESM]: require() of ES Module not supported - Stack Overflow</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cjs和mjs不要混用">cjs和mjs不要混用<a class="hash-link" href="#cjs和mjs不要混用" title="标题的直接链接">​</a></h2><p>目前我经过测试，已经充分认识到cjs和mjs的不可调和矛盾了，甚至babel也不方便解决这个问题。</p><p>接下来要注意两点，第一点就是代码导入时<code>require</code>和<code>import</code>不要混用，第二点也是最关键的一点，那就是对每个新包要确认一下它是否加了<code>&quot;type&quot;: &quot;module&quot;</code>的属性，尤其是webpack的那些包，基本都是full ESM的...对Electron极其不友好。。。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="babel的失败尝试">babel的失败尝试<a class="hash-link" href="#babel的失败尝试" title="标题的直接链接">​</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">babel src --no-babelrc --out-dir lib/es --extensions &#x27;.ts,.tsx&#x27; --ignore &#x27;**/*.spec.ts&#x27; --config-file ./.babelrc.es</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ./.babelrc.es</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ignore&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;node_modules/**/*&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;presets&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;@babel/preset-typescript&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;@babel/preset-env&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;loose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;modules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;@babel/preset-react&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;plugins&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;babel-plugin-add-module-exports&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;@babel/plugin-transform-classes&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><p><a href="https://stackoverflow.com/questions/45854169/how-can-i-use-an-es6-import-in-node-js" target="_blank" rel="noopener noreferrer">es6 modules - How can I use an ES6 import in Node.js? - Stack Overflow</a></p></li><li><p><a href="https://www.ruanyifeng.com/blog/2020/08/how-nodejs-use-es6-module.html" target="_blank" rel="noopener noreferrer">Node.js 如何处理 ES6 模块 - 阮一峰的网络日志</a></p></li><li><p><a href="https://github.com/johnloy/esm-commonjs-interop-manual" target="_blank" rel="noopener noreferrer">johnloy/esm-commonjs-interop-manual</a></p></li><li><p><a href="https://krasimirtsonev.com/blog/article/transpile-to-esm-with-babel" target="_blank" rel="noopener noreferrer">Transpile to ES modules with Babel</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-orm-prisma-vs-typeorm">database-orm: prisma vs typeorm<a class="hash-link" href="#database-orm-prisma-vs-typeorm" title="标题的直接链接">​</a></h2><ul><li><a href="https://github.com/prisma/prisma" target="_blank" rel="noopener noreferrer">prisma/prisma: Next-generation ORM for Node.js &amp; TypeScript | PostgreSQL, MySQL, MariaDB, SQL Server, SQLite &amp; MongoDB (Preview)</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="interface-vs-abstract-class"><code>interface</code> vs <code>abstract class</code><a class="hash-link" href="#interface-vs-abstract-class" title="标题的直接链接">​</a></h2><p>It&#x27;s very interesting to see how different is between an interface and an abstract class.</p><p>For me, the project of <code>hjxh_express_match</code>, interface is enough, and provides me more advantage in running since they are workded ony in compile stage.</p><p>ref:</p><ul><li><a href="https://stackoverflow.com/questions/50110844/what-is-the-difference-between-interface-and-abstract-class-in-typescript" target="_blank" rel="noopener noreferrer">oop - What is the difference between interface and abstract class in Typescript? - Stack Overflow</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="eslint-catchthenreturn">eslint catch/then/return<a class="hash-link" href="#eslint-catchthenreturn" title="标题的直接链接">​</a></h2><p>In fact, it&#x27;s a pipe, just like <code>case</code>, which I know it until today.</p><p>So, we must return something in <code>catch/then</code>, in order not to goto next pipe.</p><p>Also, put <code>then</code> before <code>catch</code> is sometimes good since <code>catch</code> can capture the error caused by inner of <code>then</code>.</p><img loading="lazy" alt="picture 6" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641042487784-79a3ad412d849352a555d4d0cf5c0cb2d3463f057473eedd236900ea0d4b6faa.png" width="480" class="img_ev3q"><p>Finally, I wrote like this (with eslint <code>&#x27;no-useless-return&#x27;: &#x27;off&#x27;</code> disabled):</p><img loading="lazy" alt="picture 8" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641042720348-42db9bd503053b892b699543df353142eecfda3b1cdfc15ad790231596834ba1.png" width="480" class="img_ev3q"><p>ref:</p><ul><li><a href="https://github.com/xjamundx/eslint-plugin-promise/blob/development/docs/rules/catch-or-return.md" target="_blank" rel="noopener noreferrer">eslint-plugin-promise/catch-or-return.md at development · xjamundx/eslint-plugin-promise</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="avoid-hardcoding-of-prisma-error-codes">Avoid hardcoding of Prisma Error codes<a class="hash-link" href="#avoid-hardcoding-of-prisma-error-codes" title="标题的直接链接">​</a></h2><p>I first followed the official documentation, and reviewed the section of <code>error codes</code>, however didn&#x27;t get any message on how to import them except hard coding.</p><p>And then I searched the source code, but in vain:</p><img loading="lazy" alt="picture 2" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641041427075-47a1ee3ffdaac0a145f37e2156479c4bae379d768b5cc0910ce6b738942806fc.png" width="480" class="img_ev3q"><p>And its&#x27; shocking to me that I even couldn&#x27;t find the <code>P2002</code> error since it&#x27;s the error of <code>duplicate id</code>, which captured by my programme.</p><img loading="lazy" alt="picture 4" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641041566110-bdccc7860b53fac834aee51204ea3b0dc77d3d6276bc60816e683ce7225e0732.png" width="480" class="img_ev3q"><p>Whereas, I can find such as <code>P1003</code>, and no exception: without <code>P1000</code> and other <code>P100X</code> codes.</p><img loading="lazy" alt="picture 3" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641041505840-49ca86c607dcd0cf605643f9e799509e83300fcd6cd25d368673e2c11b7c5935.png" width="480" class="img_ev3q"><p>And finally I tried to search in the github issues.</p><p>At first, I got nothing.</p><p>Then I use <code>is:issue in:title code</code>, and then quickly find one which is what I am expecting to.</p><img loading="lazy" alt="picture 1" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641041256885-fdcc576ad7ed19b0ad896b55be3f93885bf98dab86f1bf3c425bd09a22a8a9a0.png" width="480" class="img_ev3q"><p>But it&#x27;s so sad that no reply on this issue.</p><p>I added one comment then.</p><img loading="lazy" alt="picture 5" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/js-discuss-1641041711825-5f637e4af061a2d736b3cd67e77af0c4655de328bdd0d2f945230bea70694847.png" width="480" class="img_ev3q"><p>ref:</p><ul><li><p><a href="https://www.prisma.io/docs/reference/api-reference/error-reference#error-codes" target="_blank" rel="noopener noreferrer">Prisma error reference (Reference) | Prisma Docs</a></p></li><li><p><a href="https://github.com/prisma/prisma/issues/10394" target="_blank" rel="noopener noreferrer">Export error code constants in npm package · Issue #10394 · prisma/prisma</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enum-or-union--array"><code>Enum</code> or <code>Union / Array</code><a class="hash-link" href="#enum-or-union--array" title="标题的直接链接">​</a></h2><p>for literal const (like <code>redux</code>):</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Ping </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Ping&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Ping</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> Ping</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> RequestSelectFile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;RequestSelectFile&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">RequestSelectFile</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> RequestSelectFile</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> RequestReadFile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;RequestReadFile&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">RequestReadFile</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> RequestReadFile</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Channels</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Ping </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> RequestSelectFile </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> RequestReadFile</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>for iterating:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> buttonStatus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;HIDDEN&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ENABLED&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;DISABLED&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Notice that the array and type can have the same name if you want</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">ButtonStatus</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> buttonStatus</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>for switch</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Union types</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;HIDDEN&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ENABLED&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;DISABLED&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Notice that there&#x27;s no default case</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Enums</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> ButtonStatus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">HIDDEN</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> ButtonStatus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">ENABLED</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> ButtonStatus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">DISABLED</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://blog.bam.tech/developer-news/should-you-use-enums-or-union-types-in-typescript" target="_blank" rel="noopener noreferrer">Should You Use Enums or Union Types in Typescript?</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="forof-or-foreach"><code>for...of</code> or <code>.forEach</code><a class="hash-link" href="#forof-or-foreach" title="标题的直接链接">​</a></h2><p>The main debate is that <code>for...of</code> is a &#x27;loop&#x27;, while <code>forEach</code> is a &#x27;iteration&#x27;, which seems faster since it can be parallel.</p><p>Although I prefer <code>for...of</code> since I learned it from <code>python</code> and <code>C11</code>.</p><p>ref:</p><ul><li><p><a href="https://eslint.org/docs/rules/guard-for-in" target="_blank" rel="noopener noreferrer">guard-for-in - Rules - ESLint - Pluggable JavaScript linter</a></p></li><li><p><a href="https://github.com/airbnb/javascript/issues/1271" target="_blank" rel="noopener noreferrer">Using &#x27;ForOfStatement&#x27; is not allowed (no-restricted-syntax) · Issue #1271 · airbnb/javascript</a></p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/markshawn2020/keeps-learning/edit/master/docs/Coding/JS/js-discuss.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2022-07-27T08:41:14.000Z">2022年7月27日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/keeps-learning/docs/Coding/JS/js-bugfix"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">js-bugfix</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/keeps-learning/docs/Coding/JS/js-howto"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">js-howto</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#then-catch-vs-try-catch" class="table-of-contents__link toc-highlight"><code>then-catch</code> vs <code>try-catch</code></a></li><li><a href="#prettier-comment-alignment" class="table-of-contents__link toc-highlight">Prettier comment alignment</a></li><li><a href="#excel-select" class="table-of-contents__link toc-highlight">Excel Select</a></li><li><a href="#todo-database-select-node-sqlite3-better-sqlite3-typeorm-prisma" class="table-of-contents__link toc-highlight">TODO: Database Select: <code>node-sqlite3</code>, <code>better-sqlite3</code>, <code>typeorm</code>, <code>prisma</code></a></li><li><a href="#err_request_esm" class="table-of-contents__link toc-highlight">ERR_REQUEST_ESM</a></li><li><a href="#cjs和mjs不要混用" class="table-of-contents__link toc-highlight">cjs和mjs不要混用</a></li><li><a href="#babel的失败尝试" class="table-of-contents__link toc-highlight">babel的失败尝试</a></li><li><a href="#database-orm-prisma-vs-typeorm" class="table-of-contents__link toc-highlight">database-orm: prisma vs typeorm</a></li><li><a href="#interface-vs-abstract-class" class="table-of-contents__link toc-highlight"><code>interface</code> vs <code>abstract class</code></a></li><li><a href="#eslint-catchthenreturn" class="table-of-contents__link toc-highlight">eslint catch/then/return</a></li><li><a href="#avoid-hardcoding-of-prisma-error-codes" class="table-of-contents__link toc-highlight">Avoid hardcoding of Prisma Error codes</a></li><li><a href="#enum-or-union--array" class="table-of-contents__link toc-highlight"><code>Enum</code> or <code>Union / Array</code></a></li><li><a href="#forof-or-foreach" class="table-of-contents__link toc-highlight"><code>for...of</code> or <code>.forEach</code></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/keeps-learning/docs">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/keeps-learning/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Docusaurus</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io/docs/category/guides" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/keeps-learning/assets/js/runtime~main.9a399363.js"></script>
<script src="/keeps-learning/assets/js/main.402f255e.js"></script>
</body>
</html>