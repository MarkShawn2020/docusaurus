<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="南川笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="南川笔记 Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QFQ00XLDNZ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-QFQ00XLDNZ",{anonymize_ip:!0})</script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Blog | 南川笔记</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://markshawn2020.github.io/blog/page/2"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" property="og:title" content="Blog | 南川笔记"><meta data-rh="true" name="description" content="A Docusaurus powered blog!"><meta data-rh="true" property="og:description" content="A Docusaurus powered blog!"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://markshawn2020.github.io/blog/page/2"><link data-rh="true" rel="alternate" href="https://markshawn2020.github.io/blog/page/2" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://markshawn2020.github.io/blog/page/2" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.6bbfa55a.css">
<link rel="preload" href="/assets/js/runtime~main.119ca05b.js" as="script">
<link rel="preload" href="/assets/js/main.9949ef9b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">南川笔记</b></a><a class="navbar__item navbar__link" href="/blog/tags">My Blog</a><a class="navbar__item navbar__link" href="/docs/">My Dev Notes</a><a class="navbar__item navbar__link" href="/gallery">Gallery</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/markshawn2020/keeps-learning" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Source Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">All Posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/11/archive/prose-I-am-me">札记 | 我与我周旋久，我亦是我</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/02/archive/dev-gaokao">编程 | 使用pandas研究高考志愿填报</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/16/archive/dev-gopro-2">编程 | GoPro 02: 玩转 OpenLab</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/11/archive/dev-gopro-1">编程 | GoPro 01: 全天候自动4K延时摄影</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/06/archive/dev-ios-automation">编程 | iOS 自动化实现王者荣耀一键换装</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/23/archive/dev-mp3-meta">编程 | 逼哥的音乐元数据修复</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/22/archive/evaluation-breo-dream6">评测 | Breo Dream6 按摩仪</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/15/archive/prose-is-not-easy">札记 | 须知，活好是很不容易的</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/14/archive/dev-voice2srt">编程 | 视频剪辑自动转写字幕</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/22/archive/research-mbti/mark_mbti">研究 | 基于MBTI的人生复盘与计划（上）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/27/archive/prose-321-air-crash">札记 | 愿逝者安息生者坚强，你我迎风奔跑向阳而生</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/09/archive/dev-douban-renting">编程 | 北京租房系统设计、研究与经验 0.1.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/02/21/archive/ad-beike-hiring">推广 | 贝壳新业务VR全职开发招募</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/02/03/archive/prose-living">札记 | 2022，活着</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/02/02/archive/dev-linux">编程 | Linux 笔记</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/02/01/archive/prose-2022-begining">札记 | 关于近几年的一些感悟</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/23/archive/prose-engineer-cultivation">札记 | 一位工程师的自我修养（序）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/20/archive/prose-first-job">札记 | 是的，我入职了</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/01/archive/prose-my-2021">札记 | 我的2021：混沌与洞见</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/12/24/archive/dev-webpack">编程 | 记与Webpack十二小时的奋战</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/05/23/archive/dev-mp3-meta">编程 | 逼哥的音乐元数据修复</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-23T00:00:00.000Z" itemprop="datePublished">2022年5月23日</time> · <!-- -->阅读需 4 分钟</div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653310547240-0ba20a542cc9ebc6cf5540ad60c8e4ec8ae831b74d05ee16d60e98dba83e91ae.png" alt="picture 1" class="img_ev3q">  </p><p>今日在Apple Music中导入逼哥的音乐库时，出现了信息乱码：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653310695038-ed58410316d27f140f6d1df184971f369407b68053846151b1271578df0946ea.png" alt="picture 2" class="img_ev3q">  </p><p>可以看到，主要是<code>title</code>和<code>author</code>列出现了问题，这不禁引起了我的兴趣。</p><p>我第一反应便是去对应的原素材文件夹，右键 get info，可以看到确实是有两个属性是乱码（左边是原来的，右边是后续修复的）。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653310814595-e051efe2bf22ee099843f2cade8051e1d0ec73864ba0540e7a27ac86faea5c7e.png" alt="picture 3" class="img_ev3q">  </p><p>我原以为可以直接在属性窗上修改，结果不行。</p><p>于是我就想到，可能需要借助一些专业软件。果然，<strong>涉及到apple music列表显示的关键信息，是mp3文件的meta数据</strong>：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653310896397-b120adf7f15be2c82193521a2a0dbcc92abf91708af94d195fa03a8ee44a0752.png" alt="picture 4" class="img_ev3q">  </p><p>按照老经验，去我们的破解专用软件站去下载：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653310917717-96c26a3d5605a5736b8575c3946b946d627eac259ac48017ed8d361fec5ee494.png" alt="picture 5" class="img_ev3q">  </p><p>使用起来很简单，导入我们的文件夹，然后一个个修改mp3原数据的信息即可：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653310979865-312e6d473496ab4b99c3ef50bbbc7e49640ec2ff0f91d66f8ba8da5b3a68c0ef.png" alt="picture 6" class="img_ev3q">  </p><p>但既然了解了背后的原理，一个个手动修改元数据未免太慢了。</p><p>考虑到我导入的音乐，其文件名本身是良好定义的，所以直接写个程序去批量化处理比较好。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653311076592-c5fac94b7c1c9fbac41da0763a2b415c7eeb97a1a8af5bc0577497b97fada43e.png" alt="picture 7" class="img_ev3q">  </p><p>它们用的是<code>eyeD3</code>这个库：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653311105001-491e73b2c2fdcaf3c0a822892515284a07555e8bc4f07f2da2242b0b8edc9283.png" alt="picture 8" class="img_ev3q">  </p><p>使用方法也非常简单，一看就明白：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653311130085-98b0cb7b131b2ea6a9f72142e5ed18ceba98e24d5392f6bef5b782df861ceb2a.png" alt="picture 9" class="img_ev3q">  </p><p>那就轻松了，我们直接写程序即可。</p><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> eyed3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> re</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">edit_mp3_meta</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> author</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;fp_: &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    audiofile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> eyed3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ref: https://stackoverflow.com/a/67541983/9422455</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    audiofile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tag</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">artist </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">u&#x27;%s&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> author</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    audiofile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tag</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">u&#x27;%s&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> title</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ref: https://stackoverflow.com/a/32908607/9422455</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    audiofile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tag</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">version</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">eyed3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ID3_DEFAULT_VERSION</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    author </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;李志&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 处理第一个乱码文件夹，它们内部的命名是 “李志 - 歌名（专辑）.mp3&quot;，用正则提取比较方便</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># dir = &#x27;/Volumes/Disk2/resources/乐/lizhi-18砖/2015年《i.O》 (2014-2015李志跨年音乐会)&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># for fn in os.listdir(dir):</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     fp_ = os.path.join(dir, fn)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     song_name_match = re.match(f&#x27;{author} - (.*?)\(2014i／O版\).mp3&#x27;, fn)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     assert song_name_match, fn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     song_name = song_name_match.groups()[0]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     edit_mp3_meta(fp_, song_name, author)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 处理第二个乱码文件夹，里面有两个CD文件夹，因此使用`walk`迭代，音乐命名是其本身，因此直接提取</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> root</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dirs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fns </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">walk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/Volumes/Disk2/resources/乐/lizhi-18砖/2013《108个关键词》&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> fn </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> fns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">endswith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mp3&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                fp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                song_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                edit_mp3_meta</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> song_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> author</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>处理完后，我们重新导入这些音乐，就发现，apple music中的属性都正常了：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_eidt-mp3-meta-1653311311787-92d45f8fae2b0ac6518f4bcaeb3db6e71d3a3ebaebd8a239a1d8657b0f0e2b50.png" alt="picture 10" class="img_ev3q">  </p><p>希望对你有用~</p><p>查询参考：</p><ul><li><a href="https://www.google.com.hk/search?q=mac+get+info+%E4%B9%B1%E7%A0%81&amp;newwindow=1&amp;ei=TXuLYrGBDf_N2roPw_Sf6AM&amp;ved=0ahUKEwjx27uRzfX3AhX_plYBHUP6Bz0Q4dUDCA4&amp;uact=5&amp;oq=mac+get+info+%E4%B9%B1%E7%A0%81&amp;gs_lcp=Cgdnd3Mtd2l6EANKBAhBGAFKBAhGGABQuAVYjQhg2AtoAXAAeACAAZ0BiAGJBJIBAzAuNJgBAKABAcABAQ&amp;sclient=gws-wiz" target="_blank" rel="noopener noreferrer">mac get info 乱码 - Google 搜索</a></li><li><a href="https://www.google.com.hk/search?q=mp3+modify++title+and+author" target="_blank" rel="noopener noreferrer">mp3 modify title and author - Google 搜索</a></li><li><a href="https://www.mp3tag.de/en/download.html" target="_blank" rel="noopener noreferrer">Mp3tag - Download</a></li><li><a href="https://macwk.com/soft/mp3tag" target="_blank" rel="noopener noreferrer">Mp3tag 1.2.2 中文破解版 for Mac 音频元数据编辑工具</a></li><li><a href="https://www.google.com.hk/search?q=python+modify+mp3+tag" target="_blank" rel="noopener noreferrer">python modify mp3 tag - Google 搜索</a></li><li><a href="https://stackoverflow.com/questions/8948/accessing-mp3-metadata-with-python" target="_blank" rel="noopener noreferrer">Accessing MP3 metadata with Python - Stack Overflow</a></li><li><a href="https://eyed3.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">Welcome to eyeD3 — eyeD3 0.9.4 documentation</a></li><li><a href="https://www.google.com.hk/search?q=eyed3+unicode&amp;oq=eyed3+unicode&amp;aqs=chrome..69i57j69i60.3349j0j7&amp;sourceid=chrome&amp;ie=UTF-8" target="_blank" rel="noopener noreferrer">eyed3 unicode - Google 搜索</a></li><li><a href="https://stackoverflow.com/questions/30388411/processing-chinese-character-using-eyed3-in-python" target="_blank" rel="noopener noreferrer">encoding - Processing chinese character using eyed3 in python - Stack Overflow</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/开发笔记">开发笔记</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/音乐">音乐</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/05/22/archive/evaluation-breo-dream6">评测 | Breo Dream6 按摩仪</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-22T00:00:00.000Z" itemprop="datePublished">2022年5月22日</time> · <!-- -->阅读需 13 分钟</div></header><div class="markdown" itemprop="articleBody"><p>最近试用了三款按摩/睡眠仪，写一写使用体验。</p><ol><li><a href="https://detail.tmall.com/item.htm?id=658789572598" target="_blank" rel="noopener noreferrer">Breo Dream6头眼颈一体的按摩仪</a>，4099(到手3702)</li></ol><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653221900302-ea84456ee6b5783dc597bc835f53e479f089c8656efda03b6dcba2178774ddc6.png" alt="picture 77" class="img_ev3q">  </p><ol start="2"><li><a href="https://detail.tmall.com/item.htm?id=588310474304" target="_blank" rel="noopener noreferrer">Breo 腰部按摩枕</a>，439(实际0，买上者送的)</li></ol><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653222021795-aa06f820454d65ce63cb2cb5ac224020f74ae05d27f19e59d8cb48db28ae062a.png" alt="picture 78" class="img_ev3q">  </p><ol start="3"><li><a href="https://item.jd.com/10026471738507.html" target="_blank" rel="noopener noreferrer">HOMER ION睡眠仪</a>，698（外加一个Emod枕边睡眠喷雾，总计到手899）</li></ol><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653222102702-15934409bd3975b8391841c420257ad4ff19dd5a8b43197b7b88fdda61c6083a.png" alt="picture 79" class="img_ev3q">  </p><p>本期主要谈谈Breo Dream6的使用体验。</p><p>首先说一下试用它的理由，因为我个人很容易感到眼部疲劳，尽管有很多其他措施缓解疲劳，但我想到了物理按摩。</p><p>此时，也许一款眼部按摩仪是最适合我的，但考虑到我很多年前买过一款比较粗糙的眼部按摩仪，实际体验一般般，因此有一定阴影。</p><p>同时，考虑到如果能同时按摩头皮，也许会有1+1&gt;2的奇效，基于此我经过一顿搜索后断定，一款按摩头盔比较适合我。</p><p>说到按摩头皮，其实专用的头部按摩仪也不错，它大概长这样（龙爪手）：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653222482389-f3b20222a8daa9a1fb83ec7dd33d17279e5fd9c558fd8c514c74d2fe44b32f5f.png" alt="picture 80" class="img_ev3q">  </p><p>我看了一些B站测评，他们的反馈还不错：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653222672205-3c58e7ecdaeb41ec8b2cf6e59046acbd1465544d2f136bf1b1adc37e6fa0bf84.png" alt="picture 81" class="img_ev3q">  </p><ul><li><p><a href="https://www.bilibili.com/video/BV1Sz4y1Q7qA?spm_id_from=333.880.my_history.page.click" target="_blank" rel="noopener noreferrer">【炎炎谷】好物分享「breo倍轻松」头部按摩器 | 龙爪手の开箱评测！_哔哩哔哩_bilibili</a></p></li><li><p><a href="https://www.bilibili.com/video/BV1rT4y1w7sG?spm_id_from=333.880.my_history.page.click" target="_blank" rel="noopener noreferrer">拆网易严选的头部按摩仪，看看他们产品内部的做工和用料是否良心_哔哩哔哩_bilibili</a></p></li></ul><p>但缺点就是必须手握着，放头上不断地按摩，心想不是很方便。</p><p>不过现在在体验了呆板（不方便调整头皮按摩位置）的纯自动头眼按摩仪后，这种龙爪手反而有了灵活的优点。</p><p>因此，我在写这篇复盘时，悄咪咪地决定，再入个龙爪手试试。</p><p>ok，说了一大串，我们回到breo dream6上来。</p><p>在此之前，我已经认真看了这几个测评视频：</p><ul><li><p><a href="https://www.bilibili.com/video/BV1hE411R7eP?spm_id_from=333.880.my_history.page.click" target="_blank" rel="noopener noreferrer">倍轻松iDreamX头部按摩仪_哔哩哔哩_bilibili</a></p></li><li><p><a href="https://www.bilibili.com/video/BV19T4y1g7yx?spm_id_from=333.880.my_history.page.click" target="_blank" rel="noopener noreferrer">真AI or 假噱头？智能头部按摩仪—“倍轻松iDreamX AI一休精灵”开箱体验_哔哩哔哩_bilibili</a></p></li></ul><p>说实话，看测评感觉还不错，然后我去breo官网看了看，发现有新款的，也就是dream 6.</p><p>Dream 6 最打动我的就是它的外观与结构设计了，白灰色、可折叠，非常适合出差使用，个人觉得。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653222969953-0f0e289b876e812a24c68c043e80e17b6c35349a376552cf41dbb9c1b4a10887.png" alt="picture 82" class="img_ev3q">  </p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653222978309-ce07801bed2a98c534f46f61498e51d36c4cfbb3560d7831e7071be783180207.png" alt="picture 83" class="img_ev3q">  </p><p>可以对比看一下这两款，可以看到，结构设计上真地大有不同。</p><p>但很可惜，最终它还是让我失望了。</p><p>先说说优点吧。</p><p>最大的优点就是我们说的，它的可折叠设计方便出差与收纳、灰白色织物外观高大上手感好，这些都还是很ok的。</p><p>实际体验中，也是有一定的优点的，比如它的放松模式与冥想模式的曲子选的还算不错，然后不同模式使用的按摩“手法”也确实略有不同，比如放松模式下会压紧你的眼窝然后头顶往上拉，这种感觉确实挺棒。最好的感受还是它的眼部的热敷与按压，确实一绝。</p><p>在十五分钟的按摩后，你确实觉得自己的元气恢复了几分。</p><p>但除此之外，问题就很多了。</p><p>首先是具体的按摩效果方面。</p><p>刚刚说了，眼部的按摩效果是可以的。但也仅仅是眼部了。</p><p>头皮部是一堆硅胶刺，慢慢地戳向你的头皮。我体验下来，要没没啥感觉，要么感觉戳的有点疼，但不管哪种，都没让我觉得很舒服的感觉。</p><p>接着后面的颈部按摩，我以为也会有什么按压或者滚压的体验，结果是几乎没有任何感觉。反复就只起到了一个固定的作用。</p><p>所以，颈部部分我也懒得说了，接下来可能会根据这篇视频的评测：- <a href="https://www.bilibili.com/video/BV1Uq4y1571H?spm_id_from=333.880.my_history.page.click" target="_blank" rel="noopener noreferrer">【视频】SKG、西屋、倍轻松按摩仪怎么选答案都在评测里！_哔哩哔哩_bilibili</a> 尝试一下西屋的颈部按摩仪。</p><p>头皮部分我觉得需要再展开一下。</p><p>我可以理解绝大多数的自动按摩设备，都是以一些马达等去控制一些物理的运动，从而模拟人类的按揉摸搓等动作。</p><p>然而我不得不说，头部的这部分，远远没有达到我对一个头皮按摩的期望，尽管有一点点效果，确实那些硅胶刺过来是挺师傅的，但不够，我只觉得痒……（并且痒的时候还不好挠，因为戴着头盔呢）</p><p>ok，效果方面说完了，再说说体验方面。</p><p>首先考虑以什么姿势戴的问题，如果是坐着戴，那对不起，由于头盔的重力原因，会不断下沉，以至于能把你鼻子压扁然后无法呼吸。因为什么呢？因为整个头盔只有水平直径调节而没有垂直直径调节。也就是说它默认所有人的头部的高度是一定的，并且为自己头皮部的按压预留了一些上下的空间。</p><p>如果是躺着的，那又要对不起了，因为颈部部分里面是硬的，所以直接躺的话，后脑勺根本吃不消，我的意思很明显，虽然这玩意有助眠模式，并且是默认模式，但是我根本无法在我想躺着的时候使用它，更别说戴着它入梦了。如果考虑要助眠入梦，我觉得最佳的选择是蒸汽眼罩，而非一款头盔！</p><p>最后我发现了这玩意最好的使用姿势，是半躺在沙发上的时候，让空的后脑勺上部靠在后面的墙上以支撑住整个头盔，从而能让头盔保持固定，并且自己的后脑勺下部不产生额外的压力。</p><p>所以，为了得到较好的体验，竟然需要如此麻烦……</p><p>其次，音乐，很粗糙的就是单曲循环，甚至曲子都没有做淡入淡出处理，导致三五分钟的曲子一遍遍循环的中间很生硬，一下就打破了沉浸感。</p><p>曲子选的说实话，很一般，尤其是放松模式的曲子，那真的是，没耳听。当然这玩意也因人而异，反正我不喜欢就是了。</p><p>曲子倒是可以换，不过要连接app，那我们再来聊一聊app。</p><p>breo的app进入之后，使用蓝牙连接头盔这个没问题，app整体做的还可以，很清爽，这个我是认同的。</p><p>但接下来，让我连接无线网，并且我看提示是自动获取wifi失败，让我手动输入wifi密码（此时我是连着wifi的）。</p><p>输就输吧，输完然后就转圈圈，无法退出，这也可以理解。</p><p>但长达半分钟后，提示我连接失败。我试了N次都是这个结果。</p><p>连不上wifi的后果就是这款产品主打的ai语音完全不起作用，只能用最简单的固定词汇控制，比如：“调高/低音量”。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653224832567-5034a839b0392386405fe59cccf594cdfd35e50e22343c88c905059e29ea96b7.png" alt="picture 84" class="img_ev3q">  </p><p>然后接着我就发现蓝牙连接体验很差，需要在连接头盔之后，再手动切换到蓝牙设置界面再连另一个蓝牙，也就是那个用于音乐传输的蓝牙。</p><p>这一步也可以忍，但接下来就不能忍了。</p><p>一切操作成功之后，打开我的音乐软件，播放，这样手机不出声，声音走头盔，那个音质，我真是……</p><p>我觉得9块9的耳机都可以把这音质按在地上摩擦，这音质简直就是三十年前的电话音质。</p><p>我们花四千块以为能买到一个沉浸式的、无比舒适的……</p><p>对不起，我连词都尽了。</p><p>再说说一名软件工程师能够明显感觉到的代码层的设计问题吧：</p><ol><li><p>每次启动这个头盔，都是直接进入助眠模式，而非记忆上次模式，这是我认为应该要改进的。比如我就更喜欢冥想模式，但是每次都得按两次才能切换到。</p></li><li><p>app的那些最直观的问题刚刚已经说了，再说个不明显的：在使用默认音频输出的模式下，有开机问候、关机问候，使用调高音量语音指令达到最大后会有“已经最大音量”的提示，但是在app里使用蓝牙音频输出后，这些问候、提示全都没了，15分钟到的时候立马一下哑火，体验差，也暴露了程序员在开发时几乎是写了两套方案，没有统一，水平显然不行。</p></li></ol><p>最后，还是肖战代言的……</p><p>我虽然不追星，也不看星，本人对肖战无感但也没有敌意，但基于这么多糟糕体验，每次启动头盔时来的一句肖战的问候，就觉得，如此annoying。</p><p>可能这款产品的唯一目标用户就是头大（否则无法固定）的颜值肖战XX粉了吧。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653226273162-d7b84aa1441c9fa287890f013da23082e9272bf55a8a69c660c38ce4ce6775e8.png" alt="picture 87" class="img_ev3q">  </p><p>真是白瞎了红点设计奖了：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653225429198-bb441c5db92a7a7fb06f1b6a8d649e1ffce9908dfd2c8c80352ee5d70e88d4ab.png" alt="picture 85" class="img_ev3q"> </p><p>如果一定要认真夸一句，我觉得商家态度还是很不错的，了解到我被疫情封控无法寄货后，直接将七天无理由退换货改成21天了：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_massage-1653225660459-25f8178ebd0dea5432ddf3c3f0680889c5065a6a0c78f9280c5766ad420039bd.png" alt="picture 86" class="img_ev3q">  </p><p>也许，他们只是需要点时间再去仔细打磨自己的产品，但愿吧，但不是我关心的事了。</p><p>PS：那个腰部按摩仪的使用体验相对靠谱很多，但缺点和dream6相反，它很笨重，考虑到是赠品，我也没有留下来的意愿了。</p><p>祝好。散。</p><p>下期给大家讲讲这个Homer ION手部按摩仪是怎么回事，这个倒是很有意思。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/评测">评测</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/养身">养身</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/05/15/archive/prose-is-not-easy">札记 | 须知，活好是很不容易的</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-15T00:00:00.000Z" itemprop="datePublished">2022年5月15日</time> · <!-- -->阅读需 9 分钟</div></header><div class="markdown" itemprop="articleBody"><p>须知，活好是很不容易的。</p><p>在学校时，尚不能领略这一点，因都是和大家住，时间也都被和大家一起的学业、和大家一起的事业，所全部被占领。</p><p>细想，很少有所谓的属于自己的时间。虽不至于全无，但总会很快又逃走，比如朋友喊道：走，吃饭！</p><p>聊且自慰。大多数情况下，我就是那个朋友。我这么说一定是没错的，毕竟我确是自己朋友的朋友。</p><p>我有幸在这样的集体主义下，懵懵懂懂度过了自开始记事来的所有时光，恍惚间已二十年矣。</p><p>不过难以否认的是，我还是很感谢这样的集体主义。因为以我的尿性，我深知如若没有这种来自“大家长”力量的庇护（同时也是约束），我并不能确信自己会通往何方，我至少没有底气说我会过的一定比现在好（尽管，现在也谈不上）。</p><p>于是，直到毕业，直到疫情开始肆虐，直到我长租于北京，我才开始真正面对一个人的生活，我也才真正明白，生活是不容易的，活好更是难上加难。而且，这并非完全出于经济的原因。</p><p>我其实已经很不差钱了，相较于那些——当代流媒体的流量密码——催泪的工人、志愿者和流浪者们。</p><p>都是为了生活而负重前行，谁高谁下并不那么明了，也无几分意义。</p><p>生活不会因为你贫穷，而多锤你几下；也不会因为你高贵，就少锤几分。所有的一切在命运中都标定了价格。</p><p>生活真正的难题，不在宏大叙事上面，不在你今天买不起某张席梦思，明天追不到某个梦中情人。</p><p>生活真正的难题，是如何处理生活这件事本身：你当下在做什么，想做什么，怎么做的问题。</p><p>是贯穿从清晨有意识开始，要不要起床、怎么起床；到午饭吃点什么；再到晚上复盘今天做了什么；到夜里该不该睡觉、如何睡觉的问题。</p><p>这十二十个小时里，我们有心心念的主线任务——比如工作与学习——即那些在有形的或者无形的计划表上的事。但我们实际上会在很多其他事情上耗费相当的时间，例如发呆、游戏、聊天、了解今时今日的新闻——那些糅杂着事实与谣言的、无论真假你却难以改变的事情。</p><p>譬如今早微信群里通知我们小区历经两周终于解封了，然而中午还未到，又有人却说并不行，现在保安和物业一团乱。</p><p>生活便主要是由这些鸡零狗碎的事情构成的。</p><p>大多数人也缺乏应付这些鸡零狗碎的一些必要手段，便是那些称之为“原则”的东西。</p><p>工作需要原则，需要纪律，生活也需要吗？</p><p>我想，应该是的。</p><p>自然，生活也可以是没有原则的，凡法无禁止皆可为，放浪形骸、以酒度日、引吭高歌，似乎也并非不妥。</p><p>一个人如果连往下都不怕，他还怕什么呢？</p><p>但大多数人并没有往下跃的勇气与机缘，他只能往上，但心有余而力不足，最终不上不下。</p><p>大多数人最终都会是不上不下的，即所谓的社会的稳态。这是政客们最喜欢的东西。</p><p>现在大家都喜欢谈逆熵，我也喜欢。</p><p>逆熵的核心是控制的艺术，人一旦有了控制感，人就会对未来更充满希望，觉得自己更可以主宰自己的命运，说俗点就是能得到自己想要的东西：一个人，或一个物品，有形的或者无形的。</p><p>我想，人都想往上走，这本无可厚非。王小波也在年轻时觉得自己可以永远地生猛下去。</p><p>而留给我们的，或者说留给我的，一名青年男子，似乎时间还有很多。</p><p>也似乎，确实很多：假如我心无旁骛，就干它个十年八年，把一件事做好，做成的话。</p><p>人们往往高估自己一年可以做成的事，低估自己十年可以做成的事。</p><p>问题是，这十年，未必好熬，这十年，未必总能有一种控制感。</p><p>这大概就是人和组织最大的不同。</p><p>人可以放纵，但组织不可以，</p><p>人可以没有计划，而组织必须要有。</p><p>三年的、五年的，甚至百年的、千年的。</p><p>越超过自己目所能及的地方，越引起人的心潮澎湃。</p><p>从博弈论角度，这是多么明智的选择：比起毫无计划、毫无准备，有总归是更好的。</p><p>一个有效的机器学习模型，可以允许喂一个随机的种子，它的过程必定动荡、无序，但总有一天它会收敛。</p><p>我们，也一定会得到一个最终的答案。</p><p>所以，多多少少还是学一些管控生活的艺术，例如收纳。</p><p>给自己的房间挂一张爱因斯坦的画像，再摆一盆绿植，调整床的朝向与位置，把所有的家具摆在最适合它的位置，如果不够宽敞再充分利用上墙贴，打造空间层次感。</p><p>疫情封控的大背景下，学会自己做饭成为显著提升自己幸福感的源泉：只要买一口好锅，多看几个炒菜视频，会用叮咚买菜即可。</p><p>作为一个程序员，将生活控制在和自己的代码一样整洁的一个复杂度下，应该是一门必修课。</p><p>毕竟，如果有些东西没法改变，比起悲观地度过每一天，乐观也许更好。</p><p>这似乎也是博弈论教给我们的应有之义。</p><p>但坦白说，我其实不怎么信这玩意，但比起啥都不信，信一些东西似乎更免烦恼。</p><p>而这似乎，又是博弈论教给我们的应有之义。</p><p>生活的问题，便是如上，无穷无尽。</p><p>我的答案也逐渐明了：把自己收拾好，尽一切努力。然后，静待花开。</p><p>这未必是一份满分答卷。</p><p>但人生之路，哪有满分一说呢。</p><p>且行，且歌，且思，且录吧。</p><p>南川记于二零二二年五月十五日，某薛定谔的解封之日。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/札记">札记</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/05/14/archive/dev-voice2srt">编程 | 视频剪辑自动转写字幕</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-14T00:00:00.000Z" itemprop="datePublished">2022年5月14日</time> · <!-- -->阅读需 15 分钟</div></header><div class="markdown" itemprop="articleBody"><ol><li>语音转写市场概览</li><li>网易见外的缺点<ol><li>FCPX不支持网易见外导出的srt字幕文件</li><li>网易见外的转写结果需要手动进行长度切割</li><li>网易见外只支持后期文本替换，而不支持前期预设词库</li><li>网易见外不支持基于鼠标点击的文本位置智能跳转语音并播放</li></ol></li><li>讯飞转写<ol><li>讯飞服务价格</li><li>讯飞语音转写控制台</li><li>讯飞语音转写的使用</li><li>讯飞语音转写使用分词</li><li>讯飞语音转写程序</li></ol></li><li>基于Automator实现右键语音文件后台自动转写</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="语音转写市场概览">语音转写市场概览<a class="hash-link" href="#语音转写市场概览" title="标题的直接链接">​</a></h2><p>目前国内中文语音转文字，做的最好的应该是科大讯飞（可惜要付费）：</p><ul><li><a href="https://console.xfyun.cn/services/lfasr" target="_blank" rel="noopener noreferrer">控制台-讯飞开放平台</a></li></ul><p>所以其实很多UP主用的是网易见外之类的免费转写产品。</p><p>其他转写平台还有，比如：</p><ul><li><a href="https://github.com/PaddlePaddle/PaddleSpeech" target="_blank" rel="noopener noreferrer">百度的飞桨</a></li><li><a href="https://github.com/opensourceteams/google-sdk-speech-to-text" target="_blank" rel="noopener noreferrer">谷歌识别</a></li><li>……</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="网易见外的缺点">网易见外的缺点<a class="hash-link" href="#网易见外的缺点" title="标题的直接链接">​</a></h2><p>我实际体验下来，网易见外还是不太能满足我的需求的，主要如下：</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fcpx不支持网易见外导出的srt字幕文件">FCPX不支持网易见外导出的srt字幕文件<a class="hash-link" href="#fcpx不支持网易见外导出的srt字幕文件" title="标题的直接链接">​</a></h3><p>这个我之前就了解了一下，发现大家都是用一些第三方软件再将网易见外的srt转换成另一种srt，不禁引起了我的好奇，到底为啥网易见外的srt不支持fcpx导入。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652437655118-c3c5e4b27ab7ff01d6860b73a89f616fff6cd87264153c70010e5802280ee68b.png" alt="picture 9" class="img_ev3q">  </p><p>我对比了讯飞转写和网易见外的srt文件，发现两者的唯一区别就在于编序下标不同：网易见外从0开始标记，而讯飞转写从1开始：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652437563419-c6548e1349f50fa454cc6d34842da5852007a8d589514d968974963ce1751cf1.png" alt="picture 8" class="img_ev3q">  </p><p>由此大胆猜测：FCPX对srt文件的硬性要求就是从1开始编码！</p><p>于是我将网易见外的第0号编码对应的字幕内容去掉，重新导入FCPX，结果成功了，此即证实了我的猜想。</p><p>了解了原因之后，这个问题就变得不那么恐怖了，随便用什么脚本语言把网易见外的srt文件里的序号全部加1，或者干脆把第一条去掉即可。不是什么难事。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="网易见外的转写结果需要手动进行长度切割">网易见外的转写结果需要手动进行长度切割<a class="hash-link" href="#网易见外的转写结果需要手动进行长度切割" title="标题的直接链接">​</a></h3><p>网易见外的默认转写字幕长度是偏长的。这其实可以理解，因为长一点有助于基于上下文分析提高转写的准确度。</p><p>但问题就在于，想把分好的每句字幕再切小一点，则需要手动的在网页上点击分隔按钮一个个地调整，这个工作量就变得无法接受了。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652437965030-0e0c5d1f23c071c4b8621142912eeb55bdbf32bec4663afaa6854b30f47fbf4c.png" alt="picture 10" class="img_ev3q">  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="网易见外只支持后期文本替换而不支持前期预设词库">网易见外只支持后期文本替换，而不支持前期预设词库<a class="hash-link" href="#网易见外只支持后期文本替换而不支持前期预设词库" title="标题的直接链接">​</a></h3><p>对于学过机器学习的程序员或者用过<code>jieba</code>分词之类开源代码库的人都知道，预设词库在文本分析相关领域是非常重要的，显著影响算法识别的准确度和使用体验。</p><p>然而网易见外是不支持转写之前预设词库，只可以转完之后在页面点击文本替换，由此可见网易转写的机器学习模型（如果有的话）比较低级，它只有通用的一个，不支持用户自己输入词库进行模型微调。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="网易见外不支持基于鼠标点击的文本位置智能跳转语音并播放">网易见外不支持基于鼠标点击的文本位置智能跳转语音并播放<a class="hash-link" href="#网易见外不支持基于鼠标点击的文本位置智能跳转语音并播放" title="标题的直接链接">​</a></h3><p>这个是讯飞转写的一个很友好的功能，并且在技术是线上我认为也不是很难的一件事，但很可惜，网易见外也未能把这个用户体验做起来。</p><p>基于以上原因，我认为网易见外是远未达到我对一个智能转写软件平台的目标要求的。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="讯飞转写">讯飞转写<a class="hash-link" href="#讯飞转写" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="讯飞服务价格">讯飞服务价格<a class="hash-link" href="#讯飞服务价格" title="标题的直接链接">​</a></h3><p>如果没有开通过讯飞的服务，可以申请免费使用。不过有一定要求，比如企业用户需要提交工商执照相关信息，而个人用户，看声明貌似要19年的新用户……反正我是不符合了（我以前应该用过）。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652431323538-20c35f16a1a4cedc75b65c5c69614ddc05521d1e6608e1bc485f523af6b8d8e9.png" alt="picture 6" class="img_ev3q">  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="讯飞语音转写控制台">讯飞语音转写控制台<a class="hash-link" href="#讯飞语音转写控制台" title="标题的直接链接">​</a></h3><p>在控制台，可以查看自己所购买的讯飞服务详情，最主要的就是确认自己购买的是“讯飞转写”的服务，然后至少要支持中英文转写，最后在个性化热词里可以加入自己的特殊词库（用于提高准确率，非常有用）。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652431465004-4f6c800430b3f09d8917e0e0009af5ba5668169312f800f2e236fcda51ac55a0.png" alt="picture 7" class="img_ev3q">  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="讯飞语音转写的使用">讯飞语音转写的使用<a class="hash-link" href="#讯飞语音转写的使用" title="标题的直接链接">​</a></h3><p>可以使用讯飞语音转写的api，在该页可以下载各大语音（例如python）的demo：<a href="https://www.xfyun.cn/doc/asr/lfasr/API.html" target="_blank" rel="noopener noreferrer">语音转写 API 文档 | 讯飞开放平台文档中心</a></p><p>建议直接对着demo改，否则从0到1写会很麻烦，因为要很多加密相关参数。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652431132707-614749d87f3bee0e5b8675061e1330fb9b700080406a936bc8c7f30a4cb929ce.png" alt="picture 5" class="img_ev3q">  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="讯飞语音转写使用分词">讯飞语音转写使用分词<a class="hash-link" href="#讯飞语音转写使用分词" title="标题的直接链接">​</a></h3><p>在 <code>/prepare</code> 接口的参数中如果加上 <code>has_participle = true</code>，则会返回带每个词语识别的结果。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652461333188-95a3f302b742e110b3cbdf3f0227cbc525d8869298487f4929c0fa8ad037a333.png" alt="picture 11" class="img_ev3q">  </p><p>不过深入去使用词级别的解析结果也是一件不太容易的事情，因为需要我们自己去处理断句的问题。比如说要通过<code>&#x27;wordsName&#x27;: &#x27;，&#x27;</code>去判别是个断句。</p><p>基于这个角度来看，网易见外不支持按长度的智能分句，似乎也变得不是那么不能接受了。</p><p>但尽管如此，讯飞的结果依旧要比网易见外好很多。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="讯飞语音转写程序">讯飞语音转写程序<a class="hash-link" href="#讯飞语音转写程序" title="标题的直接链接">​</a></h3><p>已同步在个人仓库：<a href="https://github.com/MarkShawn2020/mark_keeps_learning/blob/master/mark_scripts/voice2srt/main.py" target="_blank" rel="noopener noreferrer">https://github.com/MarkShawn2020/mark_keeps_learning/blob/master/mark_scripts/voice2srt/main.py</a></p><p>具体脚本内容如下：</p><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># -*- coding: utf-8 -*-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   author: yanmeng2, xunfei api relative</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   author: markshawn2020, xunfei result to srt-format file, 2022-05-13</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   config: https://console.xfyun.cn/services/lfasr</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   doc: https://www.xfyun.cn/doc/asr/lfasr/API.html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> base64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> hashlib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> hmac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> sys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lfasr_host </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://raasr.xfyun.cn/api&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 请求的接口名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_prepare </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/prepare&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_upload </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/upload&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_merge </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/merge&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_get_progress </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/getProgress&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_get_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/getResult&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 文件分片大小10M</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file_piece_sice </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10485760</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ——————————————————转写可配置参数————————————————</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 参数可在官网界面（https://doc.xfyun.cn/rest_api/%E8%AF%AD%E9%9F%B3%E8%BD%AC%E5%86%99.html）查看，根据需求可自行在gene_params方法里添加修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 转写类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lfasr_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 是否开启分词</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">has_participle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;false&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">has_seperate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;true&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 多候选词个数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max_alternatives </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 子用户标识</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">suid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">N </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 每隔N秒获取一次进度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SliceIdGenerator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;slice id生成器&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__ch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;aaaaaaaaa`&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getNextSliceId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__ch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        j </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ch</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ch</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> cj </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;z&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ch</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">chr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">ord</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> ch</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ch</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> ch</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                j </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__ch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__ch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># -------------------- 从讯飞结果到srt的转换函数 -----------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">time2stamp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    将整数时间（毫秒）转化为srt的时间戳，即 HH:MM:SS,mmm</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param s:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mmm </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s </span><span class="token operator" style="color:#393A34">//=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s </span><span class="token operator" style="color:#393A34">//=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MM </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s </span><span class="token operator" style="color:#393A34">//=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">HH</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">02</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">MM</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">02</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">SS</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">02</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">,</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">mmm</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">03</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">pickle_srt_item</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mm_start</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mm_end</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    构建srt字幕文件的基本单元</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param index: 字幕序号，从1开始，手动创建</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param mm_start: 该字幕单元起始毫秒数</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param mm_end: 该字幕单元结束毫秒数</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param content: 该字幕单元的文本内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">index</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\n</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">time2stamp</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">mm_start</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> --&gt; </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">time2stamp</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">mm_end</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\n</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">content</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">xunfei_json2srt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    将讯飞转写的输出转成srt字幕文本内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param items:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\n&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pickle_srt_item</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;bg&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ed&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;onebest&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">RequestApi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> appid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> secret_key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> upload_file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_appid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> appid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_secret_key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> secret_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_upload_file_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> upload_file_path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">srt_fp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">splitext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_upload_file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;.srt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--- initialized ---&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 根据不同的apiname生成不同的参数,本示例中未使用全部参数您可在官网(https://doc.xfyun.cn/rest_api/%E8%AF%AD%E9%9F%B3%E8%BD%AC%E5%86%99.html)查看后选择适合业务场景的进行更换</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">gene_params</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> apiname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> taskid</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> slice_id</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        appid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_appid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secret_key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_secret_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        upload_file_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_upload_file_path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> hashlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">md5</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">appid </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> ts</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        md5 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> m2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hexdigest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        md5 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">md5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 以secret_key为key, 上面的md5为msg， 使用hashlib.sha1加密结果为signa</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        signa </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> hmac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">secret_key</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> md5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hashlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sha1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">digest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        signa </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> base64</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">b64encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">signa</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        signa </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">signa</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        file_len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getsize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">upload_file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        file_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">basename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">upload_file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        param_dict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> apiname </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> api_prepare</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># slice_num是指分片数量，如果您使用的音频都是较短音频也可以不分片，直接将slice_num指定为1即可</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            slice_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_len </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> file_piece_sice</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_len </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> file_piece_sice </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;app_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> appid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;signa&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> signa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;ts&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;file_len&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_len</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;file_name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> file_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;slice_num&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">slice_num</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> apiname </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> api_upload</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;app_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> appid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;signa&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> signa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;ts&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;task_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> taskid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;slice_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> slice_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> apiname </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> api_merge</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;app_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> appid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;signa&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> signa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;ts&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;task_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> taskid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;file_name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> file_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> apiname </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> api_get_progress </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> apiname </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> api_get_result</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;app_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> appid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;signa&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> signa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;ts&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            param_dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;task_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> taskid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> param_dict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 请求和结果解析，结果中各个字段的含义可参考：https://doc.xfyun.cn/rest_api/%E8%AF%AD%E9%9F%B3%E8%BD%AC%E5%86%99.html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">gene_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> apiname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> files</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> headers</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lfasr_host </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> apiname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> files</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">files</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> headers</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">headers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ok&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;{} success:&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">apiname</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;{} error:&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">apiname</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 预处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">prepare_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">apiname</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">api_prepare</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_params</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_prepare</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 上传</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">upload_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> taskid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> upload_file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        file_object </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">upload_file_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rb&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SliceIdGenerator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                content </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> file_object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_piece_sice</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> content </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                files </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;filename&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_params</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_upload</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;slice_id&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;content&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_upload</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_params</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_upload</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> taskid</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">taskid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                   slice_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">sig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getNextSliceId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             files</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">files</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;ok&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic"># 上传分片失败</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;upload slice fail, response: &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;upload slice &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; success&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                index </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;file index:&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            file_object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 合并</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">merge_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> taskid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_merge</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_params</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_merge</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> taskid</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">taskid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 获取进度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_progress_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> taskid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_get_progress</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_params</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_get_progress</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> taskid</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">taskid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 获取结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_result_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> taskid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_get_result</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gene_params</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_get_result</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> taskid</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">taskid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">all_api_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 1. 预处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pre_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prepare_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        taskid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pre_result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;data&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 2 . 分片上传</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">upload_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taskid</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">taskid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> upload_file_path</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_upload_file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 3 . 文件合并</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">merge_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taskid</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">taskid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 4 . 获取任务进度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 每隔N秒获取一次任务进度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            progress </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_progress_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taskid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            progress_dic </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> progress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> progress_dic</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;err_no&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> progress_dic</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;err_no&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">26605</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;task error: &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> progress_dic</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;failed&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> progress_dic</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;data&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                task_status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> task_status</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;status&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;task &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> taskid </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; finished&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;The task &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> taskid </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; is in processing, task status: &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 每次获取进度间隔N S</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 5 . 获取结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        srt_json </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_result_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">taskid</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">taskid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;data&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        srt_str </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> xunfei_json2srt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">srt_json</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">srt_fp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">srt_str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;has written converted result into path: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">srt_fp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RequestApi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        appid</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;XUNFEI_APP_ID&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secret_key</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;XUNFEI_APP_SK&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        upload_file_path</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">sys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">argv</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">all_api_request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="基于automator实现右键语音文件后台自动转写">基于Automator实现右键语音文件后台自动转写<a class="hash-link" href="#基于automator实现右键语音文件后台自动转写" title="标题的直接链接">​</a></h2><p>目前我们写的脚本，输入是一个文件路径，特别的，是指我们待转的音频文件，根据讯飞接口要求，对输入的文件有以下限制：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652533014083-ec6a9f68a140717a16bb63397a987c5ce2e8abc80fe3f8a0959e1ca0ad3c0dbc.png" alt="picture 8" class="img_ev3q">  </p><p>从音频格式来看，除了<code>aac</code>格式不支持，其他常用的例如<code>mp3, wav, m4a</code>都支持了，所以还是挺广泛的。</p><p>但是每次手动调用程序去转写一个音频文件，未免还是感觉有点麻烦，尤其是对于程序员来说。</p><p>比如现在我们转写一个音频文件，需要在命令行执行如下命令：</p><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 </span><span class="token operator" style="color:#393A34">~</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">mark_keeps_learning</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">mark_scripts</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">voice2srt</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">main</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py 目标音频文件路径</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>虽然我们也可以使用<code>alias</code>手段，把这一串命令缩短成一个词，以方便我们直接使用<code>voice2srt 目标音频文件路径</code> 的命令完成目标，但还是要基于命令行，多有不便。</p><p>主要是，我们也不需要修改其他参数（基本按照默认即可，热词已经在讯飞官网配好了）。</p><p>那么这种纯粹基于文件的操作，在mac平台上最好的办法是写一个<code>automator</code>脚本：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652532742053-608328c5fa3dc43bb127e4acf67d24ca3a9b96c3dc785f182745c4301b002348.png" alt="picture 7" class="img_ev3q">  </p><p>这样我们就可以直接在finder里面右键我们的音频文件，然后在快捷菜单中找到我们的automator脚本选项，鼠标一点就自动转成了，非常方便！</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652533417457-750a70456486d620a0f3e313e6e431fbe6530aa99aa51b04b6899cb39f4defa9.png" alt="picture 9" class="img_ev3q">  </p><p>十秒钟之后，就自动在当前文件夹内生成一个讯飞转写后的字幕文件了，非常方便：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652533472130-84eedb0ba0b9f481f2ae1d09fffb8d14c58ff3543e83d8225237eed6627be5f3.png" alt="picture 10" class="img_ev3q">  </p><p>并且我将标准输出重定位到了根目录的log文件，这样就可以在程序出错时复查：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/auto-voice2srt-1652533562489-e40a4b0b90122321cf4ca18cc2a9ffdf12deaa944aa86ca2cc3fcc421d5809e7.png" alt="picture 11" class="img_ev3q">  </p><p>Automator是一个很有用的工具，我也对它越来越感兴趣了，比如说还写了一个网易云音乐ncm转mp3的快捷操作，这样右键一个ncm文件，就能转成mp3了，非常方便。</p><p>但愿本文对你有帮助~</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/开发笔记">开发笔记</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/字幕">字幕</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/04/22/archive/research-mbti/mark_mbti">研究 | 基于MBTI的人生复盘与计划（上）</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-04-22T00:00:00.000Z" itemprop="datePublished">2022年4月22日</time> · <!-- -->阅读需 44 分钟</div></header><div class="markdown" itemprop="articleBody"><p>很久以前就知道这个测试，但一直都没重视。</p><p>最近因缘际会之下，认真研究了一番，确有所获，故记之。</p><p>本文将分上、中、下，共记录自己对MBTI官网60道题的思考与复盘，以期明确自己的性格与未来规划。</p><ol><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AFmbti">什么是MBTI</a><ol><li><a href="#%E8%83%BD%E9%87%8Fei">能量（E/I）</a></li><li><a href="#%E6%84%9F%E7%9F%A5sn">感知（S/N）</a></li><li><a href="#%E5%86%B3%E7%AD%96tf">决策（T/F）</a></li><li><a href="#%E8%A1%8C%E5%8A%A8jp">行动（J/P）</a></li></ol></li><li><a href="#%E6%88%91%E7%9A%84mbti%E5%88%86%E6%9E%90">我的MBTI分析</a><ol><li><a href="#1-you-regularly-make-new-friends">1. You regularly make new friends</a></li><li><a href="#2-you-spend-a-lot-of-your-free-time-exploring-various-random-topics-that-pique-your-interest">2. You spend a lot of your free time exploring various random topics that pique your interest</a></li><li><a href="#3-seeing-other-people-cry-can-easily-make-you-feel-like-you-want-to-cry-too">3. Seeing other people cry can easily make you feel like you want to cry too</a></li><li><a href="#4-you-often-make-a-backup-plan-for-a-backup-plan">4. You often make a backup plan for a backup plan</a></li><li><a href="#5-you-usually-stay-calm-even-under-a-lot-of-pressure">5. You usually stay calm, even under a lot of pressure</a></li><li><a href="#6-at-social-events-you-rarely-try-to-introduce-yourself-to-new-people-and-mostly-talk-to-the-ones-you-already-know">6. At social events, you rarely try to introduce yourself to new people and mostly talk to the ones you already know</a></li><li><a href="#7-you-prefer-to-completely-finish-one-project-before-starting-another">7. You prefer to completely finish one project before starting another</a></li><li><a href="#8-you-are-very-sentimental">8. You are very sentimental</a></li><li><a href="#9-you-like-to-use-organizing-tools-like-schedules-and-lists">9. You like to use organizing tools like schedules and lists</a></li><li><a href="#10-even-a-small-mistake-can-cause-you-to-doubt-your-overall-abilities-and-knowledge">10. Even a small mistake can cause you to doubt your overall abilities and knowledge</a></li><li><a href="#11-you-feel-comfortable-just-walking-up-to-someone-you-find-interesting-and-striking-up-a-conversation">11. You feel comfortable just walking up to someone you find interesting and striking up a conversation</a></li><li><a href="#12-you-are-not-too-interested-in-discussing-various-interpretations-and-analyses-of-creative-works">12. You are not too interested in discussing various interpretations and analyses of creative works</a></li><li><a href="#13-you-are-more-inclined-to-follow-your-head-than-your-heart">13. You are more inclined to follow your head than your heart</a></li><li><a href="#14-you-usually-prefer-just-doing-what-you-feel-like-at-any-given-moment-instead-of-planning-a-particular-daily-routine">14. You usually prefer just doing what you feel like at any given moment instead of planning a particular daily routine</a></li><li><a href="#15-you-rarely-worry-about-whether-you-make-a-good-impression-on-people-you-meet">15. You rarely worry about whether you make a good impression on people you meet</a></li><li><a href="#16-you-enjoy-participating-in-group-activities">16. You enjoy participating in group activities</a></li><li><a href="#17-you-like-books-and-movies-that-make-you-come-up-with-your-own-interpretation-of-the-ending">17. You like books and movies that make you come up with your own interpretation of the ending</a></li><li><a href="#18-your-happiness-comes-more-from-helping-others-accomplish-things-than-your-own-accomplishments">18. Your happiness comes more from helping others accomplish things than your own accomplishments</a></li><li><a href="#19-you-are-interested-in-so-many-things-that-you-find-it-difficult-to-choose-what-to-try-next">19. You are interested in so many things that you find it difficult to choose what to try next</a></li><li><a href="#20-you-are-prone-to-worrying-that-things-will-take-a-turn-for-the-worse">20. You are prone to worrying that things will take a turn for the worse</a></li><li><a href="#21-you-avoid-leadership-roles-in-group-settings">21. You avoid leadership roles in group settings</a></li><li><a href="#22-you-are-definitely-not-an-artistic-type-of-person">22. You are definitely not an artistic type of person</a></li><li><a href="#23-you-think-the-world-would-be-a-better-place-if-people-relied-more-on-rationality-and-less-on-their-feelings">23. You think the world would be a better place if people relied more on rationality and less on their feelings</a></li><li><a href="#24-you-prefer-to-do-your-chores-before-allowing-yourself-to-relax">24. You prefer to do your chores before allowing yourself to relax</a></li><li><a href="#25-you-enjoy-watching-people-argue">25. You enjoy watching people argue</a></li><li><a href="#26-you-tend-to-avoid-drawing-attention-to-yourself">26. You tend to avoid drawing attention to yourself</a></li><li><a href="#27-your-mood-can-change-very-quickly">27. Your mood can change very quickly</a></li><li><a href="#28-you-lose-patience-with-people-who-are-not-as-efficient-as-you">28. You lose patience with people who are not as efficient as you</a></li><li><a href="#29-you-often-end-up-doing-things-at-the-last-possible-moment">29. You often end up doing things at the last possible moment</a></li><li><a href="#30-you-have-always-been-fascinated-by-the-question-of-what-if-anything-happens-after-death">30. You have always been fascinated by the question of what, if anything, happens after death</a></li><li><a href="#31-you-usually-prefer-to-be-around-others-rather-than-on-your-own">31. You usually prefer to be around others rather than on your own</a></li><li><a href="#32-you-become-bored-or-lose-interest-when-the-discussion-gets-highly-theoretical">32. You become bored or lose interest when the discussion gets highly theoretical</a></li><li><a href="#33-you-find-it-easy-to-empathize-with-a-person-whose-experiences-are-very-different-from-yours">33. You find it easy to empathize with a person whose experiences are very different from yours</a></li><li><a href="#34-you-usually-postpone-finalizing-decisions-for-as-long-as-possible">34. You usually postpone finalizing decisions for as long as possible</a></li><li><a href="#35-you-rarely-second-guess-the-choices-that-you-have-made">35. You rarely second-guess the choices that you have made</a></li><li><a href="#36-after-a-long-and-exhausting-week-a-lively-social-event-is-just-what-you-need">36. After a long and exhausting week, a lively social event is just what you need</a></li><li><a href="#37-you-enjoy-going-to-art-museums">37. You enjoy going to art museums</a></li><li><a href="#38-you-often-have-a-hard-time-understanding-other-peoples-feelings">38. You often have a hard time understanding other people’s feelings</a></li><li><a href="#39-you-like-to-have-a-to-do-list-for-each-day">39. You like to have a to-do list for each day</a></li><li><a href="#40-you-rarely-feel-insecure">40. You rarely feel insecure</a></li><li><a href="#41-you-avoid-making-phone-calls">41. You avoid making phone calls</a></li><li><a href="#42-you-often-spend-a-lot-of-time-trying-to-understand-views-that-are-very-different-from-your-own">42. You often spend a lot of time trying to understand views that are very different from your own</a></li><li><a href="#43-in-your-social-circle-you-are-often-the-one-who-contacts-your-friends-and-initiates-activities">43. In your social circle, you are often the one who contacts your friends and initiates activities</a></li><li><a href="#44-if-your-plans-are-interrupted-your-top-priority-is-to-get-back-on-track-as-soon-as-possible">44. If your plans are interrupted, your top priority is to get back on track as soon as possible</a></li><li><a href="#45-you-are-still-bothered-by-mistakes-that-you-made-a-long-time-ago">45. You are still bothered by mistakes that you made a long time ago</a></li><li><a href="#46-you-rarely-contemplate-the-reasons-for-human-existence-or-the-meaning-of-life">46. You rarely contemplate the reasons for human existence or the meaning of life</a></li><li><a href="#47-your-emotions-control-you-more-than-you-control-them">47. Your emotions control you more than you control them</a></li><li><a href="#48-you-take-great-care-not-to-make-people-look-bad-even-when-it-is-completely-their-fault">48. You take great care not to make people look bad, even when it is completely their fault</a></li><li><a href="#49-your-personal-work-style-is-closer-to-spontaneous-bursts-of-energy-than-organized-and-consistent-efforts">49. Your personal work style is closer to spontaneous bursts of energy than organized and consistent efforts</a></li><li><a href="#50-when-someone-thinks-highly-of-you-you-wonder-how-long-it-will-take-them-to-feel-disappointed-in-you">50. When someone thinks highly of you, you wonder how long it will take them to feel disappointed in you</a></li><li><a href="#51-you-would-love-a-job-that-requires-you-to-work-alone-most-of-the-time">51. You would love a job that requires you to work alone most of the time</a></li><li><a href="#52-you-believe-that-pondering-abstract-philosophical-questions-is-a-waste-of-time">52. You believe that pondering abstract philosophical questions is a waste of time</a></li><li><a href="#53-you-feel-more-drawn-to-places-with-busy-bustling-atmospheres-than-quiet-intimate-places">53. You feel more drawn to places with busy, bustling atmospheres than quiet, intimate places</a></li><li><a href="#54-you-know-at-first-glance-how-someone-is-feeling">54. You know at first glance how someone is feeling</a></li><li><a href="#55-you-often-feel-overwhelmed">55. You often feel overwhelmed</a></li><li><a href="#56-you-complete-things-methodically-without-skipping-over-any-steps">56. You complete things methodically without skipping over any steps</a></li><li><a href="#57-you-are-very-intrigued-by-things-labeled-as-controversial">57. You are very intrigued by things labeled as controversial</a></li><li><a href="#58-you-would-pass-along-a-good-opportunity-if-you-thought-someone-else-needed-it-more">58. You would pass along a good opportunity if you thought someone else needed it more</a></li><li><a href="#59-you-struggle-with-deadlines">59. You struggle with deadlines</a></li><li><a href="#60-you-feel-confident-that-things-will-work-out-for-you">60. You feel confident that things will work out for you</a></li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="什么是mbti">什么是MBTI<a class="hash-link" href="#什么是mbti" title="标题的直接链接">​</a></h2><p>在微信搜索MBTI可以发现有大量相关的文章：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650191510091-869f49efefa5c82cbd0498200c946d0c25184af482573e2138fc8d5135e1dfc0.png" alt="picture 2" class="img_ev3q">  </p><p>在MBTI官网可以找到这个理论的一些定义： <a href="https://www.16personalities.com/articles/our-theory" target="_blank" rel="noopener noreferrer">Our Framework | 16Personalities</a></p><p>想要获得大概认识的话，可以看B站这个，讲的生动有趣： <a href="https://www.bilibili.com/video/BV1a44y1L7Yw/?spm_id_from=333.788.recommend_more_video.-1" target="_blank" rel="noopener noreferrer">全网最详细MBTI 解析！|满满干货！|迷茫必看！_哔哩哔哩_bilibili</a></p><p>想知道影视人物表现出的十六种性格类型，可以看： <a href="https://www.bilibili.com/video/BV1Sp4y1e7rd/?spm_id_from=trigger_reload" target="_blank" rel="noopener noreferrer">通过影视人物表现的16种性格类型_哔哩哔哩_bilibili</a> </p><p>简单来说：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650334147954-04a55bf30f67666f993ad5b229ae481425b91249ed1ce5958aca572e67b0d6a7.png" alt="picture 5" class="img_ev3q">  </p><p>为方便理解，我们姑且称这四类人格属性记为：<strong>能量（EI）、感知（SN）、决策（TF）、行动（JP）</strong>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="能量ei">能量（E/I）<a class="hash-link" href="#能量ei" title="标题的直接链接">​</a></h3><p>很多人会把MBTI的EI题用来判断自己是否外向，再进一步退化，叫是否“social”，其实我觉得不是这样的。</p><p>我们看上面那个英文解释，叫“Direction of energy and attention focus”，这个解释听起来很高大上，甚至让我联想到了火影忍者里的查克拉：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650528165570-2e2c83e637efc29b22e77bd29ad1c493397a85d5106c8225afe475326fe4ca9c.png" alt="picture 4" class="img_ev3q">  </p><p>具体来讲，就是注意力集中在何处（内心还是世界），从哪里（内心还是世界）获得动力（能量的流向）。</p><p>在这个问题上，我觉得我是坚定的更关注内心的一派，我心即宇宙，我的社交也是为了更好地构筑我的内心，所以我现在其实是I，以后也会是I，当然这并不意味着我未来会减少社交（尽管有这个可能，也可能相反）。</p><p>阅读/学习 --&gt; 社交/交流 --&gt; 实践 --&gt; 阅读/学习，对我来说，这是一个闭环的过程。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="感知sn">感知（S/N）<a class="hash-link" href="#感知sn" title="标题的直接链接">​</a></h3><p>其实这个我不是特别懂~</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="决策tf">决策（T/F）<a class="hash-link" href="#决策tf" title="标题的直接链接">​</a></h3><p>基于逻辑（T）还是感觉（F）。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="行动jp">行动（J/P）<a class="hash-link" href="#行动jp" title="标题的直接链接">​</a></h3><p>基于计划（J）还是冲动（P）。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="我的mbti分析">我的MBTI分析<a class="hash-link" href="#我的mbti分析" title="标题的直接链接">​</a></h2><p>根据MBTI官网的规则，每道题的选项空间有七个，我们标记如下：</p><ul><li>3：极其同意</li><li>2：比较同意</li><li>1：相对同意</li><li>0：中立</li><li>-1：相对不同意</li><li>-2：比较不同意</li><li>-3：极其不同意</li></ul><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650539429940-14379162bf5bf19ae2c692bd1eb5c110fcd3e0a44b4b3837408555c74d5fdcaa.png" alt="picture 9" class="img_ev3q">  </p><p>考虑到我个人的独特成长经历，以下每道题，我将给出我的分析过程，并且分别给出我现在（特指目前工作期间）、我期望（特指终极人生目标）等两种不同状态的答案。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-you-regularly-make-new-friends">1. You regularly make new friends<a class="hash-link" href="#1-you-regularly-make-new-friends" title="标题的直接链接">​</a></h3><p>我是否经常结交新朋友？</p><p>EI题。是的。</p><p>通常情况下，人都喜欢交朋友，比如交越来越多的朋友与质量越来越高的朋友。不过这也并非人人如此。</p><p>最简单的，我注意到大学毕业时，不同学生的微信好友数目天差地别，有的只有两三百个，甚至更少；而有的则有两三千个，甚至更多。我应该属于中间水平。</p><p>从经验上看，大部分年轻人交友少的最大原因，可能是沉迷自己的兴趣或者缺乏自信，他们在认识新朋友时会更容易紧张与不安。也就是说，更多的是一种被动结果。</p><p>而一些有名望的人则是另一种局面，他们更多地可能会选择主动避免与回避某些社交，比如冯唐，因为他们认为这些潜在的朋友不能带给自己更多的价值。</p><p>我觉得我大学时期看起来还是比较E（Extravert）的，因为那时候我在班级里公开募资炒股、参加了一个社团、创办了一个社团、经常要打需要上台展示的商赛、经常参加某些商业或学术会议等。</p><p>但怎么说呢，其实我知道我的骨子里是I（Introvert）的，因为如果非无必要，我更倾向于独处，比如就像现在这般，好好地码会字，这让我感到很安详。</p><p>我在社交平台上的话绝对属于不算少的那类，但更多的情况下，（我觉得）那是因为我FP的性格底色让我想要发表更多，而非想要获得更多。</p><p>所以我之前应该是比较喜欢交朋友，现在也是比较喜欢，最后我希望自己是较为喜欢（从2降到1）。</p><p>ANS: 2, 1</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-you-spend-a-lot-of-your-free-time-exploring-various-random-topics-that-pique-your-interest">2. You spend a lot of your free time exploring various random topics that pique your interest<a class="hash-link" href="#2-you-spend-a-lot-of-your-free-time-exploring-various-random-topics-that-pique-your-interest" title="标题的直接链接">​</a></h3><p>我是否花很多时间在一些引起兴趣的随机话题上？</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650536422237-de67e0eb440c23f578f517213c56442c737d0a21d15c7a930f139af17d30fb47.png" alt="picture 8" class="img_ev3q">  </p><p>感觉是TF题。是的，比如小花梅、上海疫情等。</p><p>很显然，目前应该是的，毕竟上海疫情一个月以来，由于其前所未有的三观崩裂，我几乎是上海瓜田里乱窜的猹钻来钻去，已经花费了很长的时间。</p><p>但怎么说呢，这个东西，既有优点又有缺点，其实本质问题就是是否有足够的好奇心，代价就是容易影响到自己既有的计划。</p><p>我应该一直都是比较容易花时间研究感兴趣的事情的人（并不惜改变牺牲一些既定需要完成的任务，以至于……我最后毕业后竟然跨行工作了……）。</p><p>未来我可能还会继续关注投资、潮流等领域，因此对于这道题，应该来说，不可能完全选不同意，比较合理的答案是曾经比较同意，未来相对不同意（毕竟那时候三观较为稳定了，不太需要一直关注外界的新东西）。</p><p>ANS: 2, -1</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-seeing-other-people-cry-can-easily-make-you-feel-like-you-want-to-cry-too">3. Seeing other people cry can easily make you feel like you want to cry too<a class="hash-link" href="#3-seeing-other-people-cry-can-easily-make-you-feel-like-you-want-to-cry-too" title="标题的直接链接">​</a></h3><p>我是否看见别人哭时也容易哭？</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650531710336-50117e102315a84601fd2742f15a8316b657e1ed35d0dd4ce096661ef638017d.png" alt="https://www.pinterest.com/pin/10344274142071053/" class="img_ev3q">  </p><p>TF题。是的。</p><p>我真心觉得我泪点还是比较低的，比如看红楼梦、人世间等， 真能把我哭个半死，抑郁好长时间。</p><p>以前是见不得女孩哭，后来慢慢地，基于众所周知的原因，更见不得男人哭。</p><p>不过我不觉得这是个什么丢人的事，同理心，人皆有之，而且我的职业也不需要我过多的压抑自己的情绪。</p><p>我并不想变得过于冷血，但我也希望未来自己情绪能更稳定一些、更客观一些（-1到1之间），但具体想偏向哪边说实话我还真不能确定。</p><p>我未来到底还希不希望自己看到别人哭时自己也愿意稍微哭一点呢？</p><p>或许可以从佛学中得到点启示，平和心吧，所以未来希望是0，不悲也不喜。</p><p>但考虑到尽量不要选中性答案，既然生而为人，还是选相对同意吧。</p><p>ANS: 2, 1</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-you-often-make-a-backup-plan-for-a-backup-plan">4. You often make a backup plan for a backup plan<a class="hash-link" href="#4-you-often-make-a-backup-plan-for-a-backup-plan" title="标题的直接链接">​</a></h3><p>我经常为B计划准备C计划吗？</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650531918847-2d9b44b3cf77e6820e9f289cee4c5c1edd97adaa1a9e460678296f478b8d98b8.png" alt="picture 6" class="img_ev3q">  </p><p>JP题。否。</p><p>hmm，这道题，我应该是坚定地选否了，我甚至一般都没有B计划，只有A计划。</p><p>我向来不是很喜欢做策划、执行类工作，而且未来大概率也不会。</p><p>也向来是一个敢爱敢恨、敢拼敢做的人，经常在自己只有59分的时候去挑战99分的任务，最终可能只有79分。</p><p>有些时候赢了，有些时候输了。</p><p>坦白说，很多时候真没想过输了后会怎么做。</p><p>只有一条：无论输赢，我们的人生都将继续下去。</p><p>每每想到这，我也就没有什么好怕的，只要想，便往前冲就是。</p><p>所以，目前是-3，未来有孩子之类的话，大概率是-1。</p><p>ANS: -3, -1</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-you-usually-stay-calm-even-under-a-lot-of-pressure">5. You usually stay calm, even under a lot of pressure<a class="hash-link" href="#5-you-usually-stay-calm-even-under-a-lot-of-pressure" title="标题的直接链接">​</a></h3><p>我经常在高压状态之下也能保持冷静？</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650532878798-6bc68acc10908ff74441338a18fe6d16500b0b74634dcd1617551dee5a81a368.png" alt="picture 7" class="img_ev3q">  </p><p>TF题。是的。</p><p>接上题，我觉得很多情况下，之所以有勇气去承接一些新的项目、面对一些新的风暴、挑战一些新的极限，其很重要的一个原因，是我确实经常能够保持冷静，我也有段时间刻意去控制、训练自己的这种特质。</p><p>在高压状态下，比如临考前、项目攻关之时，我会刻意地去冲澡、冥想、听舒缓或激动的音乐，压力极大的情况下也可能考虑抽两根烟，保持头脑的镇定，审视自己能调用的所有资源，仔细去思考问题的可行方案。</p><p>这些一次又一次的艰难考验，磨练了我的意志力，并不断内化为心中的平稳与自信，最终外化为情绪的稳定与镇静，进一步增大我做成一件事的概率。</p><p>正如马斯克所言，比起悲观，他更倾向于乐观。</p><p>我也如此，在此基础之上，比起慌乱，我更倾向于冷静。</p><p>不过其实，我也曾经有过巨大的怀疑过，大学里有一次因为一件很小的社团矛盾，顿感过人生的不值得，当时我在宿舍楼的楼顶，说实话真有一股向下的冲动，还好当时有着封锁起来的玻璃门，现在想来也是十分地幼稚的。尽管这么说并不够负责，我们不能把现在的心态去作用在当时上面。</p><p>人的内心是逐渐成长的，但未来的问题也会越来越大，它就像一追一赶的关系，你真地不知道什么时候你会有完全撑不住的时候，maybe买房还贷资金锻炼的时候？or maybe亲人……</p><p>May peace with us all.</p><p>ANS: 3, 3</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-at-social-events-you-rarely-try-to-introduce-yourself-to-new-people-and-mostly-talk-to-the-ones-you-already-know">6. At social events, you rarely try to introduce yourself to new people and mostly talk to the ones you already know<a class="hash-link" href="#6-at-social-events-you-rarely-try-to-introduce-yourself-to-new-people-and-mostly-talk-to-the-ones-you-already-know" title="标题的直接链接">​</a></h3><p>在社交场合，我是否经常与熟人交谈，而非向陌生人介绍自己？</p><p>EI题。是的。</p><p>如非职业需要，我想大多数人应该都倾向于与熟人交流，而非与陌生人吧~</p><p>但这不代表这问题就不重要，毕竟MBTI可辅助作为职业性格测试。</p><p>也许真地有天生就喜欢认识新人的人存在？</p><p>遗憾的是，我不属于这类；幸运的是，我的职业同样不需要我主动地去认识更多的人。</p><p>所以在这点上我不拧巴，也不需要拧巴。</p><p>但其实在这点上我做的应该还好，我也曾试过在社交场合主动地去认识我感兴趣的人，最后的效果其实还不错。大部分当时就得到了回应，后续还成为了不错的朋友。</p><p>在社交场合，适当地主动认识自己感兴趣的人，应该是我的主基调，因此我选较为认同。</p><p>ANS: 1, 1</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-you-prefer-to-completely-finish-one-project-before-starting-another">7. You prefer to completely finish one project before starting another<a class="hash-link" href="#7-you-prefer-to-completely-finish-one-project-before-starting-another" title="标题的直接链接">​</a></h3><p>我更倾向于在完成一个项目之后再开启另一个？</p><p>JP题。是的。</p><p>我记得我在大学的某个大课堂上，对着学弟学妹们公开说我是一个比较喜欢多线程的人，比如同时聊天同时忙着学习等。</p><p>但事实上，我后来意识到，其实不是这样的。</p><p>我反思我若能同时进行某些东西，它们一般是比较平凡的、不需要太多脑力的。</p><p>但这其实已经与我这几年的真实工作场景有所区别，目前我的很多项目压力还是较大的、有不可预期的失败风险，因此需要我全身心的投入，比如考研和一些商业开发项目。</p><p>而经过这些项目的历练，我意识到，我其实并不擅长同时进行多个项目。具体地说，我其实并不适合项目管理那种职业角色，我现在很喜欢目前的开发工作，那种全程从0到1、完全掌握自己的进度，最终把东西完美结项的感觉是我非常享受的。</p><p>因此，这道题，我目前是很同意的，因为比起多条线同时操作导致的意外风险，我更希望能一个个来，这样会更有信心一些，all-in的感觉说实话真地很不错。</p><p>之前看马斯克说他在最艰难的时候面临两家公司的取舍问题，最终他坚持了两个一起搞并且都成功了。</p><p>我不确定我是否也会面临那样的抉择，但大概率是会的；我也不确定最终是否也能那么顺利，也许也是会的。</p><p>但我内心还是希望，能一个个来的。</p><p>ANS: 2, 2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-you-are-very-sentimental">8. You are very sentimental<a class="hash-link" href="#8-you-are-very-sentimental" title="标题的直接链接">​</a></h3><p>我是否多愁善感？</p><p>TF题。是的。</p><p>我是一个典型的巨蟹座，多愁善感。（当然这也与我很多比较坎坷的人生经历有关）</p><p>我自己虽然不信星座，但是巨蟹的多愁善感倒是逐渐刻进了我的基因，并且接受了这种设定。</p><p>根据<a href="https://www.zhihu.com/question/19621312" target="_blank" rel="noopener noreferrer">星座合理性在哪里？ - 知乎</a>，整理星座有效性的背后理论如下：</p><ol><li>巴纳姆效应：人倾向于相信一个笼统的、抽象的人格描述，并认为适合自己</li><li>证实性偏见：人倾向于寻找支持预设观点的证据，并忽略相反证据</li><li>罗森塔尔效应：心理暗示让人按照暗示的方向去实现自己</li></ol><p>我的理解是星座就是个潘多拉魔盒，在你不了解之前，你觉得自己是多面性的、有无限发展潜能的。而当你接触之后，你首先会接受该星座的某些预设成见，并逐步相信，按照这个去发展自己，而同时，身边也有越来越多的人加入这个队伍，并进一步巩固这个理论的科学性。</p><p>于是，这个理论，便持久地在这个世界上运转了，除非有猛烈的文章去抨击它，致使所有人都觉得这个理论的荒谬。然而，大家普遍又没有去推翻这个机制的动机，因为星座本身，是中性的、无害的，与其所有人都完全清醒地活着，不如多一个可以找乐子、并且确实有很多被证实的先例的理论，用以发展社交。</p><p>同时根据MBTI，相信星座的可能更多的是N型人格，情侣或者朋友之间如果恰好都相信星座，可以多一条维系情感的纽带，属于同一磁场的人；当然基于星座再衍生出来的配对理论，情侣之间如果恰好处于不那么准的一对的话，据我的直觉与经验，他们也会选择无视。</p><p>从这个角度上来说，相信星座的人把星座当做自己工具箱中的一个有利工具，他们会在这个工具合适的时候拿出来用，不合适的时候就放在那。</p><p>基于以上，我也不打算对我多愁善感的性格多有什么其他的想法，顺其自然即可。</p><p>ANS: 3, 2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="9-you-like-to-use-organizing-tools-like-schedules-and-lists">9. You like to use organizing tools like schedules and lists<a class="hash-link" href="#9-you-like-to-use-organizing-tools-like-schedules-and-lists" title="标题的直接链接">​</a></h3><p>我喜欢使用计划表、列表等组织工具？</p><p>JP题。是的。</p><p>很显然，是否有使用计划工具的偏好与习惯，是能体现一个人的自律性。而近几年烂大街推崇的自律，又是每个人都无法绕开的一个命题。</p><p>但很可惜的是，我们喜欢与拥有计划工具，却并不意味着我们就能贯彻执行。</p><p>从我自己出发，我在大学里的时候说实话，计划性不强，因为其实每天都有很多事要做，立即要做，而非有一个长远的目标。</p><p>关于这点，有一位学长对我的分析特别到位，他说我更喜欢做那些紧急但不重要的事（例如比赛），而非那些不紧急但重要的事（例如考研）。</p><p>确实如此，我绝大多数比赛的结果都较为乐观，但在考研上确实付出了较为沉重的代价。这是值得反思的。</p><p>不过考研也确实锻炼了我的计划能力，我曾经给自己定制了极其充实的日程表，也确实严格执行了：</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650561197857-3298ddc49b513140b522a5321953f7d8b34c63cde6e72a8ee204d47e6f931c57.png" alt="picture 10" class="img_ev3q">  </p><p>在那之后，又经过了某些高强度项目的淬炼，对计划（尤其是TODO）之类的管理更加重视，但随着数目的增长也确实越来越难以管理。</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_mbti-1650561373371-a78bfa618506879b11a26d0582069974dfad3db3d9994e0f93bd16138298813f.png" alt="picture 11" class="img_ev3q">  </p><p>但不管怎样，承认自己的脑子不如一些计划工具好用，我将尽量使用与坚持使用计划工具管理自己。</p><p>ANS: 3, 3</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="10-even-a-small-mistake-can-cause-you-to-doubt-your-overall-abilities-and-knowledge">10. Even a small mistake can cause you to doubt your overall abilities and knowledge<a class="hash-link" href="#10-even-a-small-mistake-can-cause-you-to-doubt-your-overall-abilities-and-knowledge" title="标题的直接链接">​</a></h3><p>我会因为一个小错误而自我怀疑自己的整体能力吗？</p><p>可能是TP题。不会。</p><p>错误是在所难免的，关键是错在哪一层，以及错到哪一层。</p><p>这让我不禁想起机器学习的原理，即不断地从误差中完善自身，以减少最终的误差。</p><p>我们接受了十多年的教育，对我们所学习的理论、人文知识有着充足的信心，不大可能轻易地动摇对我们自身能力系统的信任基础。</p><p>但容易崩溃的场景确实存在，并且很难避免。</p><p>我的看法是，保持开诚互、敏捷反应、终身学习！</p><p>ANS: -3, -3</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-you-feel-comfortable-just-walking-up-to-someone-you-find-interesting-and-striking-up-a-conversation">11. You feel comfortable just walking up to someone you find interesting and striking up a conversation<a class="hash-link" href="#11-you-feel-comfortable-just-walking-up-to-someone-you-find-interesting-and-striking-up-a-conversation" title="标题的直接链接">​</a></h3><p>我是自来熟吗？</p><p>EI题。是的。</p><p>尽管大多数时候我其实并不够自信，同时也因为没有正式学习过一些社交礼仪、技巧相关的经历，所以其实类似自来熟的能力，我是不怎么具备的。</p><p>但我联想到我的过往，我确实会愿意去主动与我感兴趣的人交流，比如讲座过后去追问老师一些问题甚至所要联系方式，以及曾经当着女朋友面去问别的女孩微信以体现自己的社牛（这是后来反思做过的最傻逼的事情之一）。</p><p>因此，这道题还是偏同意为主。未来并不打算变得更加主动，也不打算变得相反，维持目前这个级别的社交意愿与能力即可。</p><p>ANS: 1, 1</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-you-are-not-too-interested-in-discussing-various-interpretations-and-analyses-of-creative-works">12. You are not too interested in discussing various interpretations and analyses of creative works<a class="hash-link" href="#12-you-are-not-too-interested-in-discussing-various-interpretations-and-analyses-of-creative-works" title="标题的直接链接">​</a></h3><p>我是否对开发性的、分析性的创意工作的交流不太感兴趣？</p><p>TF题。否。</p><p>我还是比较喜欢开放性的话题的。</p><p>而且众所周知，一部电影（例如误杀）/一本书（例如红楼梦），留给大家的是一个开放性的结尾，会让人觉得很意味深长。</p><p>也许会有人更加喜欢确定的、被安排好的结局（大概真地存在吧！），但我一定是投开放票的（如果有的话）。</p><p>而在实际工作中，我们往往需要具备全局统筹的能力，照顾安排各方的想法意见等，例如对于上海疫情到底是封城好还是放开好等，我是相对比较喜欢去研究这些问题。（参见： <a href="https://www.youtube.com/watch?v=Y4HqXP47lPQ" target="_blank" rel="noopener noreferrer">《正義：一場思辨之旅》之電車問題 (雙語字幕) - YouTube</a>）</p><p>但这也有一定的缺点，那就是讨论的越激烈越容易迷失，花费很多时间但其实大多数情况下不能得出一个实际可操作的解，例如我曾经和基友通宵讨论“灵魂伴侣是否存在”……</p><p>ANS: -2, -2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-you-are-more-inclined-to-follow-your-head-than-your-heart">13. You are more inclined to follow your head than your heart<a class="hash-link" href="#13-you-are-more-inclined-to-follow-your-head-than-your-heart" title="标题的直接链接">​</a></h3><p>我更愿意听从我的理智而非内心？</p><p>TF题。否。</p><p>这道题，其实……怎么说呢，应该说是一个经典的问题了，听从理智，亦或顺从内心。</p><p>在回答这个问题之前，我觉得我们得首先做个较为明确的定义，即什么是理智什么是内心。</p><p>我个人认为理智就是更关注外界的条件如何，而内心则更关注自己能做到什么地步。</p><p>而当我们讨论到底是顺从理智还是顺从内心时，可能更多的是在考虑：面临客观的条件，我们在多大程度上愿意发挥主观能动性？</p><p>很多电影都喜欢植入这样的理念：主人公在关键的时候，听从了自己的内心，经历了非凡的考验，最终得到一个圆满的结果的。比如《毕业生》里男主的理智告诉自己和罗宾逊夫人是不可能的，但还是听从了内心，大胆地去尝试。</p><p>很有意思的是，当我们产生某些情愫时，好像心脏部分确实有更大的反应，我不是很懂心理学与生理学，但似乎这些反应确实导致了我们将“心”和“脑”分成两部分去独立看待，一部分叫感性，一部分叫理性。然而近几年“上头”或者“下头”的网络词又不胫而走，似乎开始模糊理智和内心之间的界线。</p><p>我的观点，我觉得强制把心和脑分开去讨论，可能是有点偷懒的。无论做什么决定，其实都是经过我们思考的。就拿表白来说，我不认为鼓起勇气表白属于顺心，反之顺脑；我可能更倾向于认为前者只是更有勇气、风险偏好较高，后者相反而已。</p><p>理智与内心可能并非对立的，更多的时候，它们两，我觉得，是综合的，即最终合起来进入大脑的决策，而非要么进入理智的门、要么进入内心的门，好像我们的身体中有两个决策机构一样。</p><p>比如21年我决定去骑行川藏线，那几乎就是一晚上做完的决定，其实从理智层面我知道会有很大的风险，我在尚未认识到足够多的风险之前，就直接光速上阵了，后续路上我重摔过两次，还在在羊湖的山顶差点冻死，因此比起理智与审慎，我确实更倾向于坚持内心想做的事，未来大概率也不会变。</p><p>我宁可后悔而不想留有遗憾。</p><p>未来我其实希望自己更理智一些，不过估计做不到，那就略微从-3提到-2吧。</p><p>ANS: -3, -2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-you-usually-prefer-just-doing-what-you-feel-like-at-any-given-moment-instead-of-planning-a-particular-daily-routine">14. You usually prefer just doing what you feel like at any given moment instead of planning a particular daily routine<a class="hash-link" href="#14-you-usually-prefer-just-doing-what-you-feel-like-at-any-given-moment-instead-of-planning-a-particular-daily-routine" title="标题的直接链接">​</a></h3><p>比起循规蹈矩，我更喜欢基于当时的感觉做自己想做的事？</p><p>JP题。是的。</p><p>循规蹈矩、按流程办事，很适合执行人员风格。</p><p>但我逐渐地意识到，按照既定计划做事而无视其他临时的冲动，当且仅当这个既定的计划是有效的、是我愿意去执行的，才行。</p><p>但很多时候，我们发现我们不得不去做一些我们当时不愿意去乖乖执行的事。</p><p>这些事中，有些我们后悔了，比如学生时代的眼保健操、正楷书法等，不重视、不愿意去好好地练，未来都吃到了不同程度的苦头。</p><p>无可否认的是，即使站在当下这个时间点，再去审视从前，以及现在，会发现很多情况下，我们还是公然地在自己的既定计划上“为非作歹”：不够自律，思想飘忽，并且绝大多数这些本可以用于工作的时间和精力投入到其他地方后，并没有给自己带来多少的增益。</p><p>很难说这些思想的自由流动，是否真正构建了灵魂的自由，我多多少少难以说服自己说：不要再乱想了，先把手头任务完成再说吧！</p><p>不过，我还是希望尽量吧。</p><p>ANS: 3, 2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="15-you-rarely-worry-about-whether-you-make-a-good-impression-on-people-you-meet">15. You rarely worry about whether you make a good impression on people you meet<a class="hash-link" href="#15-you-rarely-worry-about-whether-you-make-a-good-impression-on-people-you-meet" title="标题的直接链接">​</a></h3><p>我很少担心自己给别人留下的印象好不好？</p><p>EI题。是的。</p><p>其实一般来说，我们但不担心给别人留下坏印象，主要取决于对方在自己心中重不重要（包括情感方面或者利益方面）。</p><p>不过抛开上者不谈，我也确实曾经因为某些事，了解到某些人对我的负面评价，自那之后，我深刻地明白这个世界想让所有人都满意是不可能的。</p><p>哪怕是雷锋，好人至此，都被一群小人所记恨呢。</p><p>现在我就倾向于做好自己，走自己的路，让别人去说；当然，适当了解一下别人的看法，有助于自己的进一步提高。</p><p>ANS: 2, 2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="16-you-enjoy-participating-in-group-activities">16. You enjoy participating in group activities<a class="hash-link" href="#16-you-enjoy-participating-in-group-activities" title="标题的直接链接">​</a></h3><p>我喜欢参与集体活动？</p><p>EI题。否。</p><p>不是很喜欢，更加喜欢独立做些东西，发挥自己的主导作用而非螺丝钉作用。</p><p>不过如果有很好的朋友在里面，倒是很乐意一起。</p><p>ANS: -2, -2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="17-you-like-books-and-movies-that-make-you-come-up-with-your-own-interpretation-of-the-ending">17. You like books and movies that make you come up with your own interpretation of the ending<a class="hash-link" href="#17-you-like-books-and-movies-that-make-you-come-up-with-your-own-interpretation-of-the-ending" title="标题的直接链接">​</a></h3><p>我喜欢开放性结尾的书籍和电影？</p><p>TF题。是。</p><p>接近第12题。</p><p>ANS: 2, 2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="18-your-happiness-comes-more-from-helping-others-accomplish-things-than-your-own-accomplishments">18. Your happiness comes more from helping others accomplish things than your own accomplishments<a class="hash-link" href="#18-your-happiness-comes-more-from-helping-others-accomplish-things-than-your-own-accomplishments" title="标题的直接链接">​</a></h3><p>我的快乐更多地来自于帮助别人，而非来自于自己？</p><p>EI题。否。</p><p>我其实一直都是一个挺乐意帮助别人的人。</p><p>在大学期间，真地抱着去改变一些东西的想法，去办社团、开展编程教学等。</p><p>当然，这中间，有没有掺杂一些表现欲，肯定还是有的。</p><p>但是后来，我发现，从客观角度来说，这样的时间、精力成本太高了，简而言之就是：一个人可以走的很快，一群人走的很远。</p><p>但问题是，话虽这么说，这个“一群人”却往往不是那么牢固的，今天是这群人，明天就是那群人，这是很多问题的一些根源。</p><p>这个想法，非我一人。</p><p>我有一位学长，在我们社团也是出了名的乐于助人。很遗憾的是，后来他读研后告诉我，他已经不那么热衷于改变身边的人了（主要是硕士阶段的同学思维已经快成型，不热衷于听别人的想法与建议了）。</p><p>我从他语气中读出的那种失望，至今仍印象深刻。</p><p>我希望能更多地去帮助确实需要帮助、并且对彼此成长都有益的人（比如今年创了个行业交流群，独乐乐不如众乐乐），而非盲目地、非选择性地来者不拒。</p><p>但总体来说，我还是倾向于自己完成一些东西，这样更有成就感，这么想的原因也可能是因为认识到了自己羽翼确实不够丰满。</p><p>也许有朝一日，可以完全不需要在乎自己的目前水平，而致力于投身于从别人的成功那里获取快乐，尽管不知道这种转变有没有足够的必要。</p><p>ANS: -1, -1</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="19-you-are-interested-in-so-many-things-that-you-find-it-difficult-to-choose-what-to-try-next">19. You are interested in so many things that you find it difficult to choose what to try next<a class="hash-link" href="#19-you-are-interested-in-so-many-things-that-you-find-it-difficult-to-choose-what-to-try-next" title="标题的直接链接">​</a></h3><p>我的兴趣实在过于广泛以至于经常在选择上犯难？</p><p>TF题。绝对是的！</p><p>这题我有绝对的发言权，毕竟我是那么深入地同时研究金融与计算机过，从我大二开始，我就在要不要投入到计算机行业这个问题上十分纠结。</p><p>大三在投行实习时，我老板跟我聊我的未来规划的问题，她直截了当地说总有一天我是要必须做出选择的：金融亦或计算机，而非两个同时学。</p><p>也许是命中注定，后来，可能是因为我过于明确地表达我有考研的意愿，我最终在华兴投行的hr面试中被拒绝。</p><p>再之后，我领导开发了很多初中期公司的商业项目，深知自己非全身心投入到某个具体领域中去炮炼成长不可，因此便再也不考虑金融行业的择业方向了。</p><p>我相信，金融与计算机的择业问题，仅仅还是我人生生涯中的第一个较大的选择问题。以我的性格，未来还将继续饱受折磨。</p><p>ANS: 3, 3</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="20-you-are-prone-to-worrying-that-things-will-take-a-turn-for-the-worse">20. You are prone to worrying that things will take a turn for the worse<a class="hash-link" href="#20-you-are-prone-to-worrying-that-things-will-take-a-turn-for-the-worse" title="标题的直接链接">​</a></h3><p>你很容易担心事情会往坏的方向去发展？</p><p>SN题。否。</p><p>没啥可担心的，兵来将挡水来土掩，能乐观绝不悲观（但会做好最悲观的打算）。</p><p>ANS: -3, -3</p><hr><p>【待续！】</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-you-avoid-leadership-roles-in-group-settings">21. You avoid leadership roles in group settings<a class="hash-link" href="#21-you-avoid-leadership-roles-in-group-settings" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-you-are-definitely-not-an-artistic-type-of-person">22. You are definitely not an artistic type of person<a class="hash-link" href="#22-you-are-definitely-not-an-artistic-type-of-person" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-you-think-the-world-would-be-a-better-place-if-people-relied-more-on-rationality-and-less-on-their-feelings">23. You think the world would be a better place if people relied more on rationality and less on their feelings<a class="hash-link" href="#23-you-think-the-world-would-be-a-better-place-if-people-relied-more-on-rationality-and-less-on-their-feelings" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-you-prefer-to-do-your-chores-before-allowing-yourself-to-relax">24. You prefer to do your chores before allowing yourself to relax<a class="hash-link" href="#24-you-prefer-to-do-your-chores-before-allowing-yourself-to-relax" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="25-you-enjoy-watching-people-argue">25. You enjoy watching people argue<a class="hash-link" href="#25-you-enjoy-watching-people-argue" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="26-you-tend-to-avoid-drawing-attention-to-yourself">26. You tend to avoid drawing attention to yourself<a class="hash-link" href="#26-you-tend-to-avoid-drawing-attention-to-yourself" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="27-your-mood-can-change-very-quickly">27. Your mood can change very quickly<a class="hash-link" href="#27-your-mood-can-change-very-quickly" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="28-you-lose-patience-with-people-who-are-not-as-efficient-as-you">28. You lose patience with people who are not as efficient as you<a class="hash-link" href="#28-you-lose-patience-with-people-who-are-not-as-efficient-as-you" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="29-you-often-end-up-doing-things-at-the-last-possible-moment">29. You often end up doing things at the last possible moment<a class="hash-link" href="#29-you-often-end-up-doing-things-at-the-last-possible-moment" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="30-you-have-always-been-fascinated-by-the-question-of-what-if-anything-happens-after-death">30. You have always been fascinated by the question of what, if anything, happens after death<a class="hash-link" href="#30-you-have-always-been-fascinated-by-the-question-of-what-if-anything-happens-after-death" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-you-usually-prefer-to-be-around-others-rather-than-on-your-own">31. You usually prefer to be around others rather than on your own<a class="hash-link" href="#31-you-usually-prefer-to-be-around-others-rather-than-on-your-own" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-you-become-bored-or-lose-interest-when-the-discussion-gets-highly-theoretical">32. You become bored or lose interest when the discussion gets highly theoretical<a class="hash-link" href="#32-you-become-bored-or-lose-interest-when-the-discussion-gets-highly-theoretical" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-you-find-it-easy-to-empathize-with-a-person-whose-experiences-are-very-different-from-yours">33. You find it easy to empathize with a person whose experiences are very different from yours<a class="hash-link" href="#33-you-find-it-easy-to-empathize-with-a-person-whose-experiences-are-very-different-from-yours" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="34-you-usually-postpone-finalizing-decisions-for-as-long-as-possible">34. You usually postpone finalizing decisions for as long as possible<a class="hash-link" href="#34-you-usually-postpone-finalizing-decisions-for-as-long-as-possible" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="35-you-rarely-second-guess-the-choices-that-you-have-made">35. You rarely second-guess the choices that you have made<a class="hash-link" href="#35-you-rarely-second-guess-the-choices-that-you-have-made" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="36-after-a-long-and-exhausting-week-a-lively-social-event-is-just-what-you-need">36. After a long and exhausting week, a lively social event is just what you need<a class="hash-link" href="#36-after-a-long-and-exhausting-week-a-lively-social-event-is-just-what-you-need" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="37-you-enjoy-going-to-art-museums">37. You enjoy going to art museums<a class="hash-link" href="#37-you-enjoy-going-to-art-museums" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="38-you-often-have-a-hard-time-understanding-other-peoples-feelings">38. You often have a hard time understanding other people’s feelings<a class="hash-link" href="#38-you-often-have-a-hard-time-understanding-other-peoples-feelings" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="39-you-like-to-have-a-to-do-list-for-each-day">39. You like to have a to-do list for each day<a class="hash-link" href="#39-you-like-to-have-a-to-do-list-for-each-day" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="40-you-rarely-feel-insecure">40. You rarely feel insecure<a class="hash-link" href="#40-you-rarely-feel-insecure" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-you-avoid-making-phone-calls">41. You avoid making phone calls<a class="hash-link" href="#41-you-avoid-making-phone-calls" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-you-often-spend-a-lot-of-time-trying-to-understand-views-that-are-very-different-from-your-own">42. You often spend a lot of time trying to understand views that are very different from your own<a class="hash-link" href="#42-you-often-spend-a-lot-of-time-trying-to-understand-views-that-are-very-different-from-your-own" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-in-your-social-circle-you-are-often-the-one-who-contacts-your-friends-and-initiates-activities">43. In your social circle, you are often the one who contacts your friends and initiates activities<a class="hash-link" href="#43-in-your-social-circle-you-are-often-the-one-who-contacts-your-friends-and-initiates-activities" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-if-your-plans-are-interrupted-your-top-priority-is-to-get-back-on-track-as-soon-as-possible">44. If your plans are interrupted, your top priority is to get back on track as soon as possible<a class="hash-link" href="#44-if-your-plans-are-interrupted-your-top-priority-is-to-get-back-on-track-as-soon-as-possible" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="45-you-are-still-bothered-by-mistakes-that-you-made-a-long-time-ago">45. You are still bothered by mistakes that you made a long time ago<a class="hash-link" href="#45-you-are-still-bothered-by-mistakes-that-you-made-a-long-time-ago" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="46-you-rarely-contemplate-the-reasons-for-human-existence-or-the-meaning-of-life">46. You rarely contemplate the reasons for human existence or the meaning of life<a class="hash-link" href="#46-you-rarely-contemplate-the-reasons-for-human-existence-or-the-meaning-of-life" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="47-your-emotions-control-you-more-than-you-control-them">47. Your emotions control you more than you control them<a class="hash-link" href="#47-your-emotions-control-you-more-than-you-control-them" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="48-you-take-great-care-not-to-make-people-look-bad-even-when-it-is-completely-their-fault">48. You take great care not to make people look bad, even when it is completely their fault<a class="hash-link" href="#48-you-take-great-care-not-to-make-people-look-bad-even-when-it-is-completely-their-fault" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="49-your-personal-work-style-is-closer-to-spontaneous-bursts-of-energy-than-organized-and-consistent-efforts">49. Your personal work style is closer to spontaneous bursts of energy than organized and consistent efforts<a class="hash-link" href="#49-your-personal-work-style-is-closer-to-spontaneous-bursts-of-energy-than-organized-and-consistent-efforts" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="50-when-someone-thinks-highly-of-you-you-wonder-how-long-it-will-take-them-to-feel-disappointed-in-you">50. When someone thinks highly of you, you wonder how long it will take them to feel disappointed in you<a class="hash-link" href="#50-when-someone-thinks-highly-of-you-you-wonder-how-long-it-will-take-them-to-feel-disappointed-in-you" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-you-would-love-a-job-that-requires-you-to-work-alone-most-of-the-time">51. You would love a job that requires you to work alone most of the time<a class="hash-link" href="#51-you-would-love-a-job-that-requires-you-to-work-alone-most-of-the-time" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-you-believe-that-pondering-abstract-philosophical-questions-is-a-waste-of-time">52. You believe that pondering abstract philosophical questions is a waste of time<a class="hash-link" href="#52-you-believe-that-pondering-abstract-philosophical-questions-is-a-waste-of-time" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-you-feel-more-drawn-to-places-with-busy-bustling-atmospheres-than-quiet-intimate-places">53. You feel more drawn to places with busy, bustling atmospheres than quiet, intimate places<a class="hash-link" href="#53-you-feel-more-drawn-to-places-with-busy-bustling-atmospheres-than-quiet-intimate-places" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="54-you-know-at-first-glance-how-someone-is-feeling">54. You know at first glance how someone is feeling<a class="hash-link" href="#54-you-know-at-first-glance-how-someone-is-feeling" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="55-you-often-feel-overwhelmed">55. You often feel overwhelmed<a class="hash-link" href="#55-you-often-feel-overwhelmed" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="56-you-complete-things-methodically-without-skipping-over-any-steps">56. You complete things methodically without skipping over any steps<a class="hash-link" href="#56-you-complete-things-methodically-without-skipping-over-any-steps" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="57-you-are-very-intrigued-by-things-labeled-as-controversial">57. You are very intrigued by things labeled as controversial<a class="hash-link" href="#57-you-are-very-intrigued-by-things-labeled-as-controversial" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="58-you-would-pass-along-a-good-opportunity-if-you-thought-someone-else-needed-it-more">58. You would pass along a good opportunity if you thought someone else needed it more<a class="hash-link" href="#58-you-would-pass-along-a-good-opportunity-if-you-thought-someone-else-needed-it-more" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="59-you-struggle-with-deadlines">59. You struggle with deadlines<a class="hash-link" href="#59-you-struggle-with-deadlines" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="60-you-feel-confident-that-things-will-work-out-for-you">60. You feel confident that things will work out for you<a class="hash-link" href="#60-you-feel-confident-that-things-will-work-out-for-you" title="标题的直接链接">​</a></h3></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/札记">札记</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/人生">人生</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/性格">性格</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/mbti">MBTI</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="博文列表分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog"><div class="pagination-nav__label">较新的博文</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/3"><div class="pagination-nav__label">较旧的博文</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Docusaurus</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io/docs/category/guides" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.119ca05b.js"></script>
<script src="/assets/js/main.9949ef9b.js"></script>
</body>
</html>